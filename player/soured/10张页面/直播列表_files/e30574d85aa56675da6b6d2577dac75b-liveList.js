!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("request"),require("loginTpl")):"function"==typeof define&&define.amd?define(["request","loginTpl"],t):t(e.request,e.loginTpl)}(this,function(e,t){"use strict";function n(e){return document.createElement(e)}function i(e,t){return document.createElementNS(e,t)}function r(e){return document.createTextNode(e)}function o(e,t,n){e.insertBefore(t,n)}function a(e,t){e.removeChild(t)}function c(e,t){e.appendChild(t)}function l(e){return e.parentElement}function s(e){return e.nextSibling}function u(e){return e.tagName}function f(e,t){e.textContent=t}function d(e){return void 0===e}function v(e){return void 0!==e}function m(e,t){return e.key===t.key&&e.sel===t.sel}function p(e,t,n){var i,r,o={};for(i=t;i<=n;++i)r=e[i].key,v(r)&&(o[r]=i);return o}function h(e,t){function n(e){var n=e.id?"#"+e.id:"",i=e.className?"."+e.className.split(" ").join("."):"";return F(t.tagName(e).toLowerCase()+n+i,{},[],void 0,e)}function i(e,n){return function(){if(0===--n){var i=t.parentNode(e);t.removeChild(i,e)}}}function r(e,n){var i,o=e.data;v(o)&&v(i=o.hook)&&v(i=i.init)&&(i(e),o=e.data);var a,c=e.children,l=e.sel;if(v(l)){var s=l.indexOf("#"),u=l.indexOf(".",s),f=s>0?s:l.length,d=u>0?u:l.length,m=s!==-1||u!==-1?l.slice(0,Math.min(f,d)):l;if(a=e.elm=v(o)&&v(i=o.ns)?t.createElementNS(i,m):t.createElement(m),f<d&&(a.id=l.slice(f+1,d)),u>0&&(a.className=l.slice(d+1).replace(/\./g," ")),D.array(c))for(i=0;i<c.length;++i)t.appendChild(a,r(c[i],n));else D.primitive(e.text)&&t.appendChild(a,t.createTextNode(e.text));for(i=0;i<h.create.length;++i)h.create[i](_,e);i=e.data.hook,v(i)&&(i.create&&i.create(_,e),i.insert&&n.push(e))}else a=e.elm=t.createTextNode(e.text);return e.elm}function o(e,n,i,o,a,c){for(;o<=a;++o)t.insertBefore(e,r(i[o],c),n)}function a(e){var t,n,i=e.data;if(v(i)){for(v(t=i.hook)&&v(t=t.destroy)&&t(e),t=0;t<h.destroy.length;++t)h.destroy[t](e);if(v(t=e.children))for(n=0;n<e.children.length;++n)a(e.children[n])}}function c(e,n,r,o){for(;r<=o;++r){var c,l,s,u=n[r];if(v(u))if(v(u.sel)){for(a(u),l=h.remove.length+1,s=i(u.elm,l),c=0;c<h.remove.length;++c)h.remove[c](u,s);v(c=u.data)&&v(c=c.hook)&&v(c=c.remove)?c(u,s):s()}else t.removeChild(e,u.elm)}}function l(e,n,i,a){for(var l,u,f,v,h=0,g=0,y=n.length-1,x=n[0],T=n[y],E=i.length-1,w=i[0],b=i[E];h<=y&&g<=E;)d(x)?x=n[++h]:d(T)?T=n[--y]:m(x,w)?(s(x,w,a),x=n[++h],w=i[++g]):m(T,b)?(s(T,b,a),T=n[--y],b=i[--E]):m(x,b)?(s(x,b,a),t.insertBefore(e,x.elm,t.nextSibling(T.elm)),x=n[++h],b=i[--E]):m(T,w)?(s(T,w,a),t.insertBefore(e,T.elm,x.elm),T=n[--y],w=i[++g]):(d(l)&&(l=p(n,h,y)),u=l[w.key],d(u)?(t.insertBefore(e,r(w,a),x.elm),w=i[++g]):(f=n[u],s(f,w,a),n[u]=void 0,t.insertBefore(e,f.elm,x.elm),w=i[++g]));h>y?(v=d(i[E+1])?null:i[E+1].elm,o(e,v,i,g,E,a)):g>E&&c(e,n,h,y)}function s(e,n,i){var a,s;v(a=n.data)&&v(s=a.hook)&&v(a=s.prepatch)&&a(e,n);var u=n.elm=e.elm,f=e.children,p=n.children;if(e!==n){if(!m(e,n)){var g=t.parentNode(e.elm);return u=r(n,i),t.insertBefore(g,u,e.elm),void c(g,[e],0,0)}if(v(n.data)){for(a=0;a<h.update.length;++a)h.update[a](e,n);a=n.data.hook,v(a)&&v(a=a.update)&&a(e,n)}d(n.text)?v(f)&&v(p)?f!==p&&l(u,f,p,i):v(p)?(v(e.text)&&t.setTextContent(u,""),o(u,null,p,0,p.length-1,i)):v(f)?c(u,f,0,f.length-1):v(e.text)&&t.setTextContent(u,""):e.text!==n.text&&t.setTextContent(u,n.text),v(s)&&v(a=s.postpatch)&&a(e,n)}}var u,f,h={};for(d(t)&&(t=R),u=0;u<W.length;++u)for(h[W[u]]=[],f=0;f<e.length;++f)void 0!==e[f][W[u]]&&h[W[u]].push(e[f][W[u]]);return function(e,i){var o,a,l,u=[];for(o=0;o<h.pre.length;++o)h.pre[o]();for(d(e.sel)&&(e=n(e)),m(e,i)?s(e,i,u):(a=e.elm,l=t.parentNode(a),r(i,u),null!==l&&(t.insertBefore(l,i.elm,t.nextSibling(a)),c(l,[e],0,0))),o=0;o<u.length;++o)u[o].data.hook.insert(u[o]);for(o=0;o<h.post.length;++o)h.post[o]();return i}}function g(e,t){var n,i,r=t.elm,o=e.data["class"],a=t.data["class"];if(o||a){o=o||{},a=a||{};for(i in o)a[i]||r.classList.remove(i);for(i in a)n=a[i],n!==o[i]&&r.classList[n?"add":"remove"](i)}}function y(e,t){var n,i,r,o=t.elm,a=e.data.props,c=t.data.props;if(a||c){a=a||{},c=c||{};for(n in a)c[n]||delete o[n];for(n in c)i=c[n],r=a[n],r===i||"value"===n&&o[n]===i||(o[n]=i)}}function x(e,t,n){U(function(){e[t]=n})}function T(e,t){var n,i,r=t.elm,o=e.data.style,a=t.data.style;if(o||a){o=o||{},a=a||{};var c="delayed"in o;for(i in o)a[i]||(r.style[i]="");for(i in a)if(n=a[i],"delayed"===i)for(i in a.delayed)n=a.delayed[i],c&&n===o.delayed[i]||x(r.style,i,n);else"remove"!==i&&n!==o[i]&&(r.style[i]=n)}}function E(e){var t,n,i=e.elm,r=e.data.style;if(r&&(t=r.destroy))for(n in t)i.style[n]=t[n]}function w(e,t){var n=e.data.style;if(!n||!n.remove)return void t();var i,r,o=e.elm,a=0,c=n.remove,l=0,s=[];for(i in c)s.push(i),o.style[i]=c[i];r=getComputedStyle(o);for(var u=r["transition-property"].split(", ");a<u.length;++a)s.indexOf(u[a])!==-1&&l++;o.addEventListener("transitionend",function(e){e.target===o&&--l,0===l&&t()})}function b(e,t,n){if("function"==typeof e)e.call(t,n,t);else if("object"==typeof e)if("function"==typeof e[0])if(2===e.length)e[0].call(t,e[1],n,t);else{var i=e.slice(1);i.push(n),i.push(t),e[0].apply(t,i)}else for(var r=0;r<e.length;r++)b(e[r])}function N(e,t){var n=e.type,i=t.data.on;i&&i[n]&&b(i[n],t,e)}function L(){var e=function(t){N(t,e.vnode)};return e}function S(e,t){var n,i=e.data.on,r=e.listener,o=e.elm,a=t&&t.data.on,c=t&&t.elm;if(i!==a){if(i&&r)if(a)for(n in i)a[n]||o.removeEventListener(n,r,!1);else for(n in i)o.removeEventListener(n,r,!1);if(a){var l=t.listener=e.listener||L();if(l.vnode=t,i)for(n in a)i[n]||c.addEventListener(n,l,!1);else for(n in a)c.addEventListener(n,l,!1)}}}function k(e,t,n){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==t)for(var i=0;i<t.length;++i)k(t[i].data,t[i].children,t[i].sel)}function I(e){return e<=9?"0"+e:e}function C(e){var t=new Date(e);return[I(t.getHours()),I(t.getMinutes())].join(":")}function A(e){var t;if(null==e||"object"!=("undefined"==typeof e?"undefined":te(e)))return e;if(e instanceof Date)return t=new Date,t.setTime(e.getTime()),t;if(e instanceof Array){t=[];for(var n=0,i=e.length;n<i;n++)t[n]=A(e[n]);return t}if(e instanceof Object){t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=A(e[r]));return t}throw new Error("Unable to copy obj! Its type isn't supported.")}function q(e,t,n){for(var i=0;i<t.length;i++)e.addEventListener(t[i],n,!1)}function B(e,t){var n=void 0;e.addEventListener("scroll",function(i){clearTimeout(n),n=setTimeout(function(){e.scrollHeight-e.scrollTop-e.offsetHeight<e.offsetHeight&&t()},300)},!1)}function H(e,t){e.innerHTML="";var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");i.style.textAlign="center",i.style.marginBottom="-10px",i.style.lineHeight="40px",i.style.opacity="0",i.style.marginTop="-70px",i.innerHTML="下拉刷新",e.appendChild(n),e.appendChild(i),e.appendChild(r);var o=t(r);B(e,o),ce(n,e,function(e){return'<svg class="bg" width="375" height="40" viewBox="0 200 750 80">\n            <path d="'+e+'" fill="rgba(233,233,233,.5)"></path>\n        </svg>'},function(t,n,r){if("start"===r&&(e.scrollTop<0&&(e.scrollTop=0),i.innerHTML="下拉刷新"),"move"===r){var a=t.changedTouches?t.changedTouches[0]:t,c=a.pageY-n.start.y;if(c<0||0!==e.scrollTop)return!0;e.scrollTop<0||ne(n.c.y>50?function(){i.style.marginTop="-45px",i.style.opacity=1}:function(){i.style.marginTop=-70+n.c.y/2+"px",i.style.opacity=.5})}"end"===r&&(e.scrollTop<0?e.scrollTop<-50&&o(!0):n.c.y>50?(ne(function(){i.innerHTML="正在刷新..",i.style.marginTop="-45px"}),o(!0,function(){ne(function(){i.style.opacity=0,i.style.marginTop="-70px"})})):ne(function(){i.style.opacity=0,i.style.marginTop="-70px"}))}),o()}if(e="default"in e?e["default"]:e,Array.isArray||(Array.isArray=function(e){return""+e!==e&&"[object Array]"=={}.toString.call(e)}),!Element.prototype.addEventListener){var j;!function(){var e=function(e){e||(e=window.event);for(var t=0,n=0,i=j[e.type];n<i.aEls.length;n++)if(i.aEls[n]===this){for(t;t<i.aEvts[n].length;t++)i.aEvts[n][t].call(this,e);break}};j={},Element.prototype.addEventListener=function(t,n){if(j.hasOwnProperty(t)){for(var i=j[t],r=-1,o=0;o<i.aEls.length;o++)if(i.aEls[o]===this){r=o;break}if(r===-1)i.aEls.push(this),i.aEvts.push([n]),this["on"+t]=e;else{var a=i.aEvts[r];this["on"+t]!==e&&(a.splice(0),this["on"+t]=e);for(var c=0;c<a.length;c++)if(a[c]===n)return;a.push(n)}}else j[t]={aEls:[this],aEvts:[[n]]},this["on"+t]=e},Element.prototype.removeEventListener=function(e,t){if(j.hasOwnProperty(e)){for(var n=j[e],i=-1,r=0;r<n.aEls.length;r++)if(n.aEls[r]===this){i=r;break}if(i!==-1)for(var o=0,a=n.aEvts[i];o<a.length;o++)a[o]===t&&a.splice(o,1)}}}()}var M=function(e,t,n,i,r){var o=void 0===t?void 0:t.key;return{sel:e,data:t,children:n,text:i,elm:r,key:o}},O={array:Array.isArray,primitive:function(e){return"string"==typeof e||"number"==typeof e}},P={createElement:n,createElementNS:i,createTextNode:r,appendChild:c,removeChild:a,insertBefore:o,parentNode:l,nextSibling:s,tagName:u,setTextContent:f},F=M,D=O,R=P,_=F("",{},[],void 0,void 0),W=["create","update","remove","destroy","pre","post"],Y={init:h},X={create:g,update:g},z={create:y,update:y},Q="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,U=function(e){Q(function(){Q(e)})},G={create:T,update:T,destroy:E,remove:w},J={create:S,update:S,destroy:S},K=M,V=O,Z=function(e,t,n){var i,r,o,a={};if(void 0!==n?(a=t,V.array(n)?i=n:V.primitive(n)&&(r=n)):void 0!==t&&(V.array(t)?i=t:V.primitive(t)?r=t:a=t),V.array(i))for(o=0;o<i.length;++o)V.primitive(i[o])&&(i[o]=K(void 0,void 0,void 0,i[o]));return"s"===e[0]&&"v"===e[1]&&"g"===e[2]&&k(a,i,e),K(e,a,i,r,void 0)},$=Y.init([X,z,G,J]),ee=function(e){return Z("a",{class:{liveItem:!0},props:{href:"/live/share?liveId="+e.liveId}},[].concat(Z("div",{class:{"liveItem-cover":!0},style:{backgroundImage:'url("'+e.radioConver+'")'}},[].concat(Z("div",{class:{"liveItem-meta":!0}},[].concat(function(){var t={"liveItem-meta-item":!0,"liveItem-meta-item--heighlight":!0};return 1===e.liveStatus?Z("div",{class:t},[].concat(Z("img",{class:{"liveItem-meta-icon":!0},props:{src:"/assets/images/liveList/rhythm.gif"}}),Z("span",{class:{"liveItem-meta-text":!0}},[].concat("进行中")))):""}(),function(){var t={"liveItem-meta-item":!0,"liveItem-meta-item--lastChild":!0};return 1===e.liveStatus?Z("div",{class:t},[].concat(Z("img",{class:{"liveItem-meta-icon":!0},props:{src:"/assets/images/liveList/people.png"}}),Z("span",{class:{"liveItem-meta-text":!0}},[].concat(e.totalCount)))):0===e.liveStatus?Z("div",{class:t},[].concat(Z("img",{class:{"liveItem-meta-icon":!0},props:{src:"/assets/images/liveList/timer.png"}}),Z("span",{class:{"liveItem-meta-text":!0}},[].concat("预告: ",e.liveStartTime,"-",e.liveEndTime)))):2===e.liveStatus?Z("div",{class:t},[].concat(Z("img",{class:{"liveItem-meta-icon":!0},props:{src:"/assets/images/liveList/warn.png"}}),Z("span",{class:{"liveItem-meta-text":!0}},[].concat("已结束")))):void 0}())))),Z("div",{class:{"liveItem-title":!0}},[].concat(e.liveName,function(){return e.tag?Z("span",{},[].concat("#",e.tag,"#")):""}())),Z("div",{class:{"liveItem-user":!0}},[].concat(Z("img",{class:{"liveItem-user-avatar":!0},props:{src:e.userPortrait}}),Z("div",{class:{"liveItem-user-name":!0}},[].concat(e.userName))))))},te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne=(function(){function e(e){this.value=e}function t(t){function n(e,t){return new Promise(function(n,r){var c={key:e,arg:t,resolve:n,reject:r,next:null};a?a=a.next=c:(o=a=c,i(e,t))})}function i(n,o){try{var a=t[n](o),c=a.value;c instanceof e?Promise.resolve(c.value).then(function(e){i("next",e)},function(e){i("throw",e)}):r(a.done?"return":"normal",a.value)}catch(l){r("throw",l)}}function r(e,t){switch(e){case"return":o.resolve({value:t,done:!0});break;case"throw":o.reject(t);break;default:o.resolve({value:t,done:!1})}o=o.next,o?i(o.key,o.arg):a=null}var o,a;this._invoke=n,"function"!=typeof t["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype["throw"]=function(e){return this._invoke("throw",e)},t.prototype["return"]=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-lastTime)),i=window.setTimeout(function(){e(t+n)},n);return lastTime=t+n,i}),ie=function(e){return"M0,200 Q"+e.c.x+","+(e.c.y+200)+" 750,200 L750,200 0,200"},re=["mousedown","touchstart"],oe=["mousemove","touchmove"],ae=["mouseup","touchend","mouseleave"],ce=function(e,t,n){function i(e,t){return e.c.x!==t.c.x||e.c.y!==t.c.y}function r(){i(a,c)&&(c=A(a),f&&f.setAttribute("d",ie(a))),ne(r)}var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(e){},a={dragging:!1,c:{x:375,y:0},start:{x:0,y:0}},c=A(a),l=function(e){var t=e.changedTouches?e.changedTouches[0]:e;a.dragging=!0,a.start.x=t.pageX,a.start.y=t.pageY},s=function(e){var t=e.changedTouches?e.changedTouches[0]:e;if(a.dragging){a.c.x=375+(t.pageX-a.start.x)|0;var n=t.pageY-a.start.y,i=4;a.c.y=0|Math.min(n/i,200)}e.preventDefault()},u=function(e){a.dragging&&(a.dragging=!1,a.c={x:375,y:0})};ne(r),q(t,re,function(e){o(e,a,"start")||l(e)}),q(t,oe,function(e){o(e,a,"move")||s(e)}),q(t,ae,function(e){o(e,a,"end")||u(e)}),e.innerHTML=n(ie(a));var f=e.querySelector("path")},le=document.getElementById("tab"),se=le.querySelector(".highlight"),ue=le.querySelectorAll(".item"),fe=le.querySelector(".active");se.style.left=fe.offsetLeft+10+"px",se.style.width=fe.offsetWidth+fe.offsetLeft-10+"px",se.style.right="auto";var de=document.createElement("div");de.className="frame",document.body.appendChild(de),H(de,function(t){var n=!0,i=[],r=function(e){var t=e;return function(e,n){var i=Z("div",{},[].concat(e.map(function(e){return ee(e)}),Z("div",{class:{"page-index-loading":!0}},[].concat(function(){return n?"正在加载...":"没有更多了 :)"}()))));$(t,i),t=i}}(t),o=function(){var t=1;return function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;e({url:"/smallApp/getLiveList",method:"get",data:{pageNum:i}},{standalone:"loadingPage",hook:"loadingPage"}).then(function(e){0===e.code&&(t=i+1,n(e.ret.dataList,i))})}}();return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e&&(n=!0),n===!0&&o(function(e,o){t(),1===o&&(i=[]),e&&0!==e.length?i=i.concat(e.filter(function(e){return!(i.some&&i.some(function(t,n,i){return t.liveId===e.liveId&&(i[n]=e,!0)}))}).map(function(e){return e.radioConver=e.radioConver.replace("200x200","750x750"),e.liveStartTime=C(e.liveStartTime),e.liveEndTime=C(e.liveEndTime),e})):n=!1,r(i,n)},e?1:void 0)}}),de.className+=" active";var ve=[];ve.push(de),ue[0].addEventListener("click",function(e){ve.forEach(function(e){e.className=e.className.replace(" active","")}),de.className+=" active";var t=ue[0];Array.prototype.forEach.call(ue,function(e){e.className=e.className.replace(" active","")}),t.className+=" active",se.style.left=t.offsetLeft+10+"px",se.style.width=t.offsetWidth-20+"px",se.style.right="auto"},!1);var me=document.createElement("div");me.className="frame",document.body.appendChild(me),H(me,function(n){var i=!0,r=[],o=function(e){var t=e;return function(e,n){var i=void 0;i=0===e.length?Z("div",{class:{empty:!0}},[].concat("你还没有订阅哦")):Z("div",{},[].concat(e.map(function(e){return ee(e)}),Z("div",{class:{"page-index-loading":!0}},[].concat(function(){return n?"正在加载...":"没有更多了 :)"}())))),$(t,i),t=i}}(n),a=function(){var t=1;return function(n,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e({url:"/h5/getH5SubscribeList",method:"get",data:{pageNum:r}},{hook:"getH5SubScribeList"}).then(function(e){0===e.rcode?(t=r+1,n(e.ret,e.ret.dataList,r)):6===e.rcode&&i()})}}();return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};e&&(i=!0),i===!0&&a(function(e,t,a){n(),1===a&&(r=[]),t&&0!==t.length?(e.pageNum===e.pageTotal&&(i=!1),r=r.concat(t.filter(function(e){return!(r.some&&r.some(function(t,n,i){return t.liveId===e.liveId&&(i[n]=e,!0)}))}).map(function(e){return e.radioConver=e.radioConver.replace("200x200","750x750"),e.liveStartTime=C(e.liveStartTime),e.liveEndTime=C(e.liveEndTime),e}))):i=!1,o(r,i)},function(){t.loginTpl(me)},e?1:void 0)}}),ve.push(me),ue[1].addEventListener("click",function(e){ve.forEach(function(e){e.className=e.className.replace(" active","")}),me.className+=" active";var t=ue[1];Array.prototype.forEach.call(ue,function(e){e.className=e.className.replace(" active","")}),t.className+=" active",se.style.left=t.offsetLeft+10+"px",se.style.width=t.offsetWidth-20+"px",se.style.right="auto"},!1)});
