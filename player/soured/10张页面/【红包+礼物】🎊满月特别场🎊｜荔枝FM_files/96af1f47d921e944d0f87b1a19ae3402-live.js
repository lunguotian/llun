!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("request"),require("guppy"),require("toast"),require("loginTpl")):"function"==typeof define&&define.amd?define(["request","guppy","toast","loginTpl"],e):e(t.request,t.Guppy,t.Toast,t.loginTpl)}(this,function(t,e,n,r){"use strict";function o(){return/micromessenger/.test(_t)}function i(){return/mqqbrowser/.test(_t)}function a(){return parseFloat(/mqqbrowser\/([0-9.]+) /.exec(_t)[1])||0}function s(){return!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)}function l(){return parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1}function u(){return/ucbrowser/.test(_t)}function c(){return _t.indexOf("safari")!=-1&&(!(_t.indexOf("chrome")>-1)&&!(_t.indexOf("qq")>-1))}function f(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function d(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}function p(t){var e="",n="",r="",o="";return t.hasCloseBtn&&(e='<div class="'+Mt["modal-close-btn"]+'">&times;</div>'),t.data&&t.data.addon&&(n='<div class="'+Mt["modal-addon"]+'">'+t.data.addon+"</div>"),t.data&&t.data.title&&(r='<div class="'+Mt["modal-title"]+'">{{data.title}}</div>'),t.data&&t.hasFooter&&(o='<div class="'+Mt["modal-footer"]+'"></div>'),'<div id="modal-container-'+t.id+'" class="'+Mt["modal-container"]+" "+t["class"]+'">\n        <div id="modal-'+t.id+'" class="modal '+Mt.modal+'">\n            '+e+n+r+'\n            <div class="'+Mt["modal-body"]+'">'+t.data.body+"</div>\n            "+o+"\n        </div>\n    </div>"}function h(t,e){return t.replace(/\.(png|jpg)$/i,"_"+e+"x"+e+".$1")}function m(t){var e;if(null==t||"object"!=("undefined"==typeof t?"undefined":Ct(t)))return t;if(t instanceof Date)return e=new Date,e.setTime(t.getTime()),e;if(t instanceof Array){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=m(t[n]);return e}if(t instanceof Object){e={};for(var o in t)t.hasOwnProperty(o)&&(e[o]=m(t[o]));return e}throw new Error("Unable to copy obj! Its type isn't supported.")}function v(t){var e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]}function g(t){function e(){t.hideFn?t.hideFn():r.style.display="none"}var n=!1;(t.data.footer||t.actions&&0!==t.actions.length)&&(t.hasFooter=!0),t.data=t.data||{};var r=(t.id||1e8*Math.random()|0,t["class"]||"",v(p(t)));if(document.body.appendChild(r),t.actions)for(var o=0;o<t.actions.length;o++){var i=t.actions[o],a=i.getInjected(),s=a.name,l=a["class"]||"",u=function(t,e){return function(){return t.apply(St(e,{modal:r}),arguments)}}(i,a),c=v('<button class="'+Mt["modal-btn"]+" "+l+'">'+s+"</button>");r.querySelector("."+Mt["modal-footer"]).appendChild(c),c.addEventListener("click",u,!1)}if("function"==typeof t.init&&t.init(r,t),!t.force){r.addEventListener("click",function(){return n?void(n=!1):void e()},!1);var f=function d(){n=!0,r.removeEventListener("mouseup",d,!1)};r.querySelector("."+Mt.modal).addEventListener("mousedown",function(){r.addEventListener("mouseup",f,!1)},!1)}return t.hasCloseBtn&&r.querySelector("."+Mt["modal-close-btn"]).addEventListener("click",function(){e()},!1),r}function y(t){return'<div class="bubble">\n        <div class="avatar">\n            <img src="'+h(t.portrait,64)+'" alt="'+t.userName+'">\n        </div>\n        <div class="name">'+t.userName+"</div>\n        "+t.comment+"\n    </div>"}function b(t,e){return e={exports:{}},t(e,e.exports),e.exports}function w(t){var e=t.querySelector(".modal")||t;qt.animate(e,{opacity:0,scale:.1},{type:qt.easeInOut,duration:300,complete:function(){t.style.display="none"},friction:100})}function x(t){t.style.display="block";var e=t.querySelector(".modal")||t;qt.css(e,{opacity:0,scale:.1}),qt.animate(e,{opacity:1,scale:1},{type:qt.spring,frequency:200,friction:270,duration:800})}function k(t,e){request({url:"/h5/getH5UserInfo",method:"get",data:{toUserId:t}},{hook:"userInfo"}).then(function(t){e(t)})}function _(t,e){request({url:"/h5/h5Subscribe",method:"POST",data:{radioId:t}},{hook:"subscribe",standalone:"subscribe"}).then(function(t){0===t.rcode?(new n({content:"订阅成功"}),e(t)):6===t.rcode?r.loginPopup():new n({content:"网络异常,请稍后再试"})}).fail(function(t){new n({content:"网络异常,请稍后再试"})})}function T(t,e){request({url:"/h5/h5UnSubscribe",method:"POST",data:{radioId:t}},{hook:"unsubscribe",standalone:"subscribe"}).then(function(t){0===t.rcode?(new n({content:"已取消订阅"}),e(t)):6===t.rcode?r.loginPopup():new n({content:"网络异常,请稍后再试"})}).fail(function(t){new n({content:"网络异常,请稍后再试"})})}function E(t,e,o){return 0===e.length?void new n({content:"你还没有评论"}):e.length>500?void new n({content:"你的字数超出500个字的限制,当前字数"+e.length}):void request({url:"/h5/saveH5Comment",method:"POST",data:{liveId:t,content:e}},{hook:"comment",standalone:"comment"}).then(function(t){0===t.rcode?(new n({content:"发送成功"}),o(t)):6===t.rcode?r.loginPopup():new n(2===t.rcode?{content:t.msg}:3===t.rcode?{content:t.msg}:{content:t.msg||"发送失败"})}).fail(function(t){new n({content:"发送失败"})})}function S(t,e,o,i){request({url:"/litchicoin/give",method:"POST",data:{njId:t,giftId:e,liveId:o}},{hook:"give",standalone:"give"}).then(function(t){0===t.rcode?i(t):6===t.rcode?(i(t),r.loginPopup()):new n({content:t.msg||"发送失败"})}).fail(function(t){new n({content:"发送失败"})})}function M(t){request({url:"/litchicoin/gifts",method:"GET",data:{_r:(new Date).getTime()}},{hook:"gift",standalone:"gift"}).then(function(e){0===e.rcode?t(e):6===e.rcode?(t(e),r.loginPopup()):new n({content:e.msg||"发送失败"})}).fail(function(t){new n({content:"发送失败"})})}function C(t){return document.createElement(t)}function I(t,e){return document.createElementNS(t,e)}function L(t){return document.createTextNode(t)}function q(t,e,n){t.insertBefore(e,n)}function P(t,e){t.removeChild(e)}function A(t,e){t.appendChild(e)}function F(t){return t.parentElement}function O(t){return t.nextSibling}function j(t){return t.tagName}function N(t,e){t.textContent=e}function H(t){return void 0===t}function z(t){return void 0!==t}function B(t,e){return t.key===e.key&&t.sel===e.sel}function R(t,e,n){var r,o,i={};for(r=e;r<=n;++r)o=t[r].key,z(o)&&(i[o]=r);return i}function X(t,e){function n(t){var n=t.id?"#"+t.id:"",r=t.className?"."+t.className.split(" ").join("."):"";return Bt(e.tagName(t).toLowerCase()+n+r,{},[],void 0,t)}function r(t,n){return function(){if(0===--n){var r=e.parentNode(t);e.removeChild(r,t)}}}function o(t,n){var r,i=t.data;z(i)&&z(r=i.hook)&&z(r=r.init)&&(r(t),i=t.data);var a,s=t.children,l=t.sel;if(z(l)){var u=l.indexOf("#"),c=l.indexOf(".",u),f=u>0?u:l.length,p=c>0?c:l.length,h=u!==-1||c!==-1?l.slice(0,Math.min(f,p)):l;if(a=t.elm=z(i)&&z(r=i.ns)?e.createElementNS(r,h):e.createElement(h),f<p&&(a.id=l.slice(f+1,p)),c>0&&(a.className=l.slice(p+1).replace(/\./g," ")),Rt.array(s))for(r=0;r<s.length;++r)e.appendChild(a,o(s[r],n));else Rt.primitive(t.text)&&e.appendChild(a,e.createTextNode(t.text));for(r=0;r<d.create.length;++r)d.create[r](Yt,t);r=t.data.hook,z(r)&&(r.create&&r.create(Yt,t),r.insert&&n.push(t))}else a=t.elm=e.createTextNode(t.text);return t.elm}function i(t,n,r,i,a,s){for(;i<=a;++i)e.insertBefore(t,o(r[i],s),n)}function a(t){var e,n,r=t.data;if(z(r)){for(z(e=r.hook)&&z(e=e.destroy)&&e(t),e=0;e<d.destroy.length;++e)d.destroy[e](t);if(z(e=t.children))for(n=0;n<t.children.length;++n)a(t.children[n])}}function s(t,n,o,i){for(;o<=i;++o){var s,l,u,c=n[o];if(z(c))if(z(c.sel)){for(a(c),l=d.remove.length+1,u=r(c.elm,l),s=0;s<d.remove.length;++s)d.remove[s](c,u);z(s=c.data)&&z(s=s.hook)&&z(s=s.remove)?s(c,u):u()}else e.removeChild(t,c.elm)}}function l(t,n,r,a){for(var l,c,f,d,p=0,h=0,m=n.length-1,v=n[0],g=n[m],y=r.length-1,b=r[0],w=r[y];p<=m&&h<=y;)H(v)?v=n[++p]:H(g)?g=n[--m]:B(v,b)?(u(v,b,a),v=n[++p],b=r[++h]):B(g,w)?(u(g,w,a),g=n[--m],w=r[--y]):B(v,w)?(u(v,w,a),e.insertBefore(t,v.elm,e.nextSibling(g.elm)),v=n[++p],w=r[--y]):B(g,b)?(u(g,b,a),e.insertBefore(t,g.elm,v.elm),g=n[--m],b=r[++h]):(H(l)&&(l=R(n,p,m)),c=l[b.key],H(c)?(e.insertBefore(t,o(b,a),v.elm),b=r[++h]):(f=n[c],u(f,b,a),n[c]=void 0,e.insertBefore(t,f.elm,v.elm),b=r[++h]));p>m?(d=H(r[y+1])?null:r[y+1].elm,i(t,d,r,h,y,a)):h>y&&s(t,n,p,m)}function u(t,n,r){var a,u;z(a=n.data)&&z(u=a.hook)&&z(a=u.prepatch)&&a(t,n);var c=n.elm=t.elm,f=t.children,p=n.children;if(t!==n){if(!B(t,n)){var h=e.parentNode(t.elm);return c=o(n,r),e.insertBefore(h,c,t.elm),void s(h,[t],0,0)}if(z(n.data)){for(a=0;a<d.update.length;++a)d.update[a](t,n);a=n.data.hook,z(a)&&z(a=a.update)&&a(t,n)}H(n.text)?z(f)&&z(p)?f!==p&&l(c,f,p,r):z(p)?(z(t.text)&&e.setTextContent(c,""),i(c,null,p,0,p.length-1,r)):z(f)?s(c,f,0,f.length-1):z(t.text)&&e.setTextContent(c,""):t.text!==n.text&&e.setTextContent(c,n.text),z(u)&&z(a=u.postpatch)&&a(t,n)}}var c,f,d={};for(H(e)&&(e=Xt),c=0;c<Dt.length;++c)for(d[Dt[c]]=[],f=0;f<t.length;++f)void 0!==t[f][Dt[c]]&&d[Dt[c]].push(t[f][Dt[c]]);return function(t,r){var i,a,l,c=[];for(i=0;i<d.pre.length;++i)d.pre[i]();for(H(t.sel)&&(t=n(t)),B(t,r)?u(t,r,c):(a=t.elm,l=e.parentNode(a),o(r,c),null!==l&&(e.insertBefore(l,r.elm,e.nextSibling(a)),s(l,[t],0,0))),i=0;i<c.length;++i)c[i].data.hook.insert(c[i]);for(i=0;i<d.post.length;++i)d.post[i]();return r}}function Y(t,e){var n,r,o=e.elm,i=t.data["class"],a=e.data["class"];if(i||a){i=i||{},a=a||{};for(r in i)a[r]||o.classList.remove(r);for(r in a)n=a[r],n!==i[r]&&o.classList[n?"add":"remove"](r)}}function D(t,e){var n,r,o,i=e.elm,a=t.data.props,s=e.data.props;if(a||s){a=a||{},s=s||{};for(n in a)s[n]||delete i[n];for(n in s)r=s[n],o=a[n],o===r||"value"===n&&i[n]===r||(i[n]=r)}}function Z(t,e,n){Wt(function(){t[e]=n})}function U(t,e){var n,r,o=e.elm,i=t.data.style,a=e.data.style;if(i||a){i=i||{},a=a||{};var s="delayed"in i;for(r in i)a[r]||(o.style[r]="");for(r in a)if(n=a[r],"delayed"===r)for(r in a.delayed)n=a.delayed[r],s&&n===i.delayed[r]||Z(o.style,r,n);else"remove"!==r&&n!==i[r]&&(o.style[r]=n)}}function G(t){var e,n,r=t.elm,o=t.data.style;if(o&&(e=o.destroy))for(n in e)r.style[n]=e[n]}function V(t,e){var n=t.data.style;if(!n||!n.remove)return void e();var r,o,i=t.elm,a=0,s=n.remove,l=0,u=[];for(r in s)u.push(r),i.style[r]=s[r];o=getComputedStyle(i);for(var c=o["transition-property"].split(", ");a<c.length;++a)u.indexOf(c[a])!==-1&&l++;i.addEventListener("transitionend",function(t){t.target===i&&--l,0===l&&e()})}function W(t,e,n){if("function"==typeof t)t.call(e,n,e);else if("object"==typeof t)if("function"==typeof t[0])if(2===t.length)t[0].call(e,t[1],n,e);else{var r=t.slice(1);r.push(n),r.push(e),t[0].apply(e,r)}else for(var o=0;o<t.length;o++)W(t[o])}function $(t,e){var n=t.type,r=e.data.on;r&&r[n]&&W(r[n],e,t)}function K(){var t=function(e){$(e,t.vnode)};return t}function J(t,e){var n,r=t.data.on,o=t.listener,i=t.elm,a=e&&e.data.on,s=e&&e.elm;if(r!==a){if(r&&o)if(a)for(n in r)a[n]||i.removeEventListener(n,o,!1);else for(n in r)i.removeEventListener(n,o,!1);if(a){var l=e.listener=t.listener||K();if(l.vnode=e,r)for(n in a)r[n]||s.addEventListener(n,l,!1);else for(n in a)s.addEventListener(n,l,!1)}}}function Q(t,e,n){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==n&&void 0!==e)for(var r=0;r<e.length;++r)Q(e[r].data,e[r].children,e[r].sel)}function tt(t){function e(t){var e=t.changedTouches?t.changedTouches[0]:t;o.dragging=!0,o.x=e.pageX,o.y=e.pageY}var n=t,r={},o={dragging:!1,x:0,y:0},i=240,a=i/3;return function s(i,l){function u(t){/userProfile\-background/.test(t.target.className)&&c()}function c(t){l.display="none",s(i,l)}function f(t){t.preventDefault();var e=this.elm;It(function(){var n=t.changedTouches?t.changedTouches[0]:t;if(o.dragging===!0){if(n.pageY<=50)return p(e,n);e.style.left=n.pageX-o.x+"px",e.style.top=n.pageY-o.y+"px"}})}function d(t){if(o.dragging===!0){var e=t.changedTouches?t.changedTouches[0]:t,n=this.elm;p(n,e)}}function p(t,e){Math.abs(e.pageX-o.x)>a||Math.abs(e.pageY-o.y)>a?t.style.zIndex=10:t.style.zIndex="",o.dragging=!1,qt.animate(t,{left:0,top:0},{type:qt.easeInOut,duration:300,complete:function(){if(Math.abs(e.pageX-o.x)>a||Math.abs(e.pageY-o.y)>a){var n=i.userPortraitList;n.push(n.shift()),l.portraitIndex=(l.portraitIndex+1)%i.userPortraitList.length,s(i,l)}t.style.zIndex=""},friction:100})}i=i||r.data,l=l||r.opt||{},l.portraitIndex=l.portraitIndex||0;var h=te("div",{class:{"userProfile-background":!0,userProfile:!0,"userProfile-male":0===i.gender,"userProfile-female":1===i.gender},style:{display:l.display||"none"},on:{click:u}},[].concat(te("div",{class:{"userProfile-inner":!0}},[].concat(te("div",{class:{"userProfile-main":!0}},[].concat(function(){return i.loading?te("div",{},[].concat(te("div",{class:{"userProfile-avatar":!0}},[].concat(te("div",{class:{"userProfile-avatar-backBg":!0}},[].concat(te("img",{class:{"userProfile-avatar-backBg-image":!0},props:{src:"/assets/images/pikaqiu.png"}}))),te("div",{style:{"background-image":"url("+i.userPortraitList[0]+")"},class:{"userProfile-avatar-image":!0},attrs:{bindtouchcancel:"recoverUserProfileAvatar"}}))))):i.userPortraitList&&i.userPortraitList.length>0?te("div",{},[].concat(te("div",{class:{"userProfile-avatar":!0}},[].concat(te("div",{class:{"userProfile-avatar-backBg":!0}},[].concat(te("img",{class:{"userProfile-avatar-backBg-image":!0},props:{src:"/assets/images/pikaqiu.png"}}),te("div",{},[].concat("喵翻到底了")))),i.userPortraitList.map(function(t,n){return n<2?te("div",{on:{touchstart:e,touchmove:f,touchend:d},style:{"background-image":"url("+t+")"},class:{"userProfile-avatar-image":!0}}):te("div",{on:{touchstart:e,touchmove:f,touchend:d},class:{"userProfile-avatar-image":!0}})}).reverse())),te("div",{class:{"userProfile-main-pagination":!0}},[].concat((l.portraitIndex||0)+1+"/"+i.userPortraitList.length)))):te("div",{},[].concat(te("div",{class:{"userProfile-avatar":!0}},[].concat(te("div",{class:{"userProfile-avatar-backBg":!0}},[].concat(te("img",{class:{"userProfile-avatar-backBg-image":!0},props:{src:"/assets/images/pikaqiu.png"}}))),te("div",{style:{"background-image":"url("+r.data.userPortraitList[0]+")"},class:{"userProfile-avatar-image":!0},attrs:{bindtouchcancel:"recoverUserProfileAvatar"}})))))}(),te("div",{class:{"userProfile-main-header":!0}},[].concat(te("div",{class:{"userProfile-main-username":!0}},[].concat(i.name)),function(){return i.loading?"":i.country||i.province||i.city?te("div",{class:{"userProfile-main-location":!0}},[].concat(te("img",{class:{"userProfile-main-location-icon":!0},props:{src:"/assets/images/location.png"}}),[i.country,i.province,i.city].filter(function(t){return""!==t&&"中国"!==t}).join(" "))):""}())),te("div",{class:{"userProfile-main-body":!0}},[].concat(i.loading?"加载中...":i.signature||"人人都是播客")),te("div",{on:{click:function(){document.getElementById("input").value+="@"+i.name+" ",c()}},class:{"userProfile-atBtn":!0}},[].concat(i.loading?"加载中...":0===i.gender?"@他":"@她"))))))));return ee(n,h),n=h,r={data:i,opt:l},t}}function et(t){var e=t.querySelector(".modal")||t;qt.animate(e,{opacity:0,scale:.1},{type:qt.easeInOut,duration:300,complete:function(){t.style.display="none"},friction:100})}function nt(t){t.style.display="block";var e=t.querySelector(".modal")||t;qt.css(e,{opacity:0,scale:.1}),qt.animate(e,{opacity:1,scale:1},{type:qt.spring,frequency:200,friction:270,duration:800})}function rt(t,e){var n=32768*Math.random()>>>0;return n%(t-e)+t}function ot(t){var e=t.length,n=32768*Math.random()>>>0;return t[n%e]}function it(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"+1",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};ue.innerHTML='<div class="modal">'+t+"</div>",nt(ue);for(var n=0;n<oe.length;n++){var r=oe[n],o=r.cloneNode(!0),i=r.cloneNode(!0);ue.appendChild(o),ue.appendChild(i),at(o,le+n*se),at(i,le+(n+oe.length)*se)}setTimeout(function(){et(ue),e()},2500+le)}function at(t,e){var n,r=(ot([1,.6,.3]),{rotateZ:0,translateX:0,translateY:0});qt.animate(r,{rotateZ:rt(-60,60),translateX:rt(-300,300),translateY:rt(-800,-450)},{type:qt.easeIn,delay:e,duration:rt(1200,1600),change:function(e,a){var s=function(){t.style.webkitTransform=t.style.transform="rotateZ("+(r.rotateZ+o.rotateZ+i.rotateZ)+"deg) translateX("+(r.translateX+o.translateX+i.translateX)+"px) translateY("+(r.translateY+o.translateY+i.translateY)+"px)"};window.cancelAnimationFrame?(window.cancelAnimationFrame(n),n=window.requestAnimationFrame(s)):s()},complete:function(){t.remove()}});var o={rotateZ:0,translateX:0,translateY:0};qt.animate(o,{rotateZ:rt(-30,30),translateX:rt(-100,100),translateY:rt(-300,100)},{type:ot([qt.easeInOut,qt.easeOut]),delay:e,duration:rt(400,1e3)});var i={rotateZ:0,translateX:0,translateY:0};qt.animate(i,{rotateZ:rt(-30,30),translateX:rt(-100,100),translateY:rt(-300,100)},{type:ot([qt.easeInOut,qt.easeOut]),delay:e,duration:rt(400,1e3)})}function st(t){var e=t;return function r(i,a){function s(t){S(userId,f.giftId,liveId,function(t){0===t.rcode?(c(),it("+"+f.amount)):6===t.rcode&&c()})}function l(){if(!o())return void new n({content:"暂时只支持在微信内充值金币"});var t=encodeURIComponent(window.location.href);window.open("https://h5.lizhi.fm/litchicoin/?coin="+f.coinAmount+"&litchi="+f.amount+"&from="+t)}function u(t){/lzui_actionsheet_wrap/.test(t.target.className)&&c()}function c(t){a.display="none",r(i,a)}var f={};i.gifts.forEach(function(t){t.selected&&(f=t)});var d=f.coinAmount<=i.coin,p=te("div",{style:{display:a.display||"none"},class:{lzui_actionsheet_wrap:!0},on:{click:u}},[].concat(te("div",{class:{lzui_actionsheet_toggle:!0,lzui_actionsheet:!0},id:"lzui_actionsheet"},[].concat(te("div",{class:{lzui_actionsheet_content:!0}},[].concat(te("div",{class:{gray:!0,"lizhi-amount":!0}},[].concat("赠送",f.amount||0,"颗荔枝给：")),te("div",{style:{"margin-bottom":"16px"}},[].concat(i.name)),te("div",{class:{lzui_checkbox_group_bd:!0},style:{"margin-bottom":"0"}},[].concat(te("ul",{class:{lzui_checkbox_group_list:!0}},[].concat(i.gifts.map(function(t){return te("li",{class:{lzui_checkbox_group_item:!0}},[].concat(te("label",{},[].concat(te("input",{on:{change:function(e){i.gifts.forEach(function(t){t.selected=!1}),t.selected=!0,r(i,a)}},class:{lzui_checkbox_group_item_checked:!!t.selected},props:{type:"radio",checked:!!t.selected,name:"giftid",value:t.giftId}}),te("span",{},[].concat(t.amount,"荔枝",te("span",{},[].concat(t.coinAmount,"金币"))))))))}))))),te("div",{props:{id:"account_info_wrap"}},[].concat(te("div",{props:{id:"top_up"},on:{click:l}},[].concat("充值")),te("div",{props:{id:"account_info"}},[].concat("金额: ",i.coin)))),te("div",{class:{lzui_actionsheet_content_action:!0}},[].concat(te("button",{on:{click:function(t){d?f.giftId&&s(f.giftId):l()}},class:{lzui_btn:!0,lzui_btn_primary:!0}},[].concat(d?"送荔枝":"余额不足，立即充值"))))))))));return ee(e,p),e=p,document.querySelector(".lzui_checkbox_group_item_checked").click(),t}}function lt(t,e){isSubscribed?(t.innerHTML="已订阅",t.style.backgroundColor="rgba(255,255,255,0.5)"):(t.innerHTML="订阅",t.style.backgroundColor=""),t.addEventListener("click",function(){"订阅"===t.innerHTML?_(e,function(e){t.innerHTML="已订阅",t.style.backgroundColor="rgba(255,255,255,0.5)"}):T(e,function(e){t.innerHTML="订阅",t.style.backgroundColor=""})},!1)}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments[2];clearTimeout(de),t!==-1&&2!==t||(pe=!0),pe===!0?(fe.innerHTML="",ce.innerHTML='<span class="live-status-light-off live-status-light"></span>直播结束',n.pause()):"error"===t?(ce.innerHTML='<span><span class="live-status-light-off live-status-light"></span>点击重新连接</span>',ce.querySelector("span").addEventListener("click",function(){ce.innerHTML='<span class="live-status-light"></span>正在直播',e()},!1)):"playing"===t&&(de=setTimeout(function(){!n.paused&&!n.ended&&n.readyState>=2||ut("error",e)},2e3),ce.innerHTML='<span class="live-status-light"></span>正在直播')}function ct(t,e){function n(t){return window.requestAnimationFrame(t)}function r(t,e){var n=e-t;return n>7e3?600:n>4e3?400:n>2e3?200:n>1e3?100:n>500?80:n>100?40:n>50?16:n>20?8:n>10?4:n}var o=t.scrollTop,i=t.scrollHeight-t.offsetHeight,a=0;!function s(){a=r(o,i),o+=a,o<i?(t.scrollTop=o,n(s)):(t.scrollTop=i,e())}()}function ft(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");t||(t=Math.floor(Math.random()*e.length));for(var n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}function dt(t){var e=document.querySelector(he?"video":"audio");e&&!he&&document.body.removeChild(e);var n;n=he?document.querySelector("video"):document.createElement("audio"),he||(n.style.display="none");var r=document.createElement("source");return r.src=t,n.appendChild(r),document.body.appendChild(n),n.addEventListener("pause",function(){ut("error",pt)},!0),n.addEventListener("stop",function(){ut("error",pt)},!0),n.addEventListener("progress",function(){ut("playing",pt,n)},!0),n.addEventListener("play",function(){n.setAttribute("x5-video-player-type","h5"),n.setAttribute("x5-video-player-fullscreen","true"),n.setAttribute("webkit-playsinline","true"),n.setAttribute("playsinline","true"),ut("playing",pt,n)},!0),n.addEventListener("error",function(){HTMLMediaElement.NETWORK_EMPTY!==this.networkState&&HTMLMediaElement.NETWORK_NO_SOURCE!==this.networkState||ut("error",pt)},!0),n}function pt(){Me.src=Me.currentSrc||liveUrl,Me.play()}function ht(){Oe=!0}function mt(){Oe=!1,Ne.push([])}function vt(){Ne.push([])}function gt(t){return t=parseInt(t),t<1e5?""+t:(t/1e4).toFixed(1)+"万"}function yt(t){t=t/1e3|0;var e=parseInt(t/60)||0,n=parseInt(t%60)||0,r=parseInt(e/60)||0;return e=parseInt(e%60)||0,r=r>=10?r:"0"+r,e=e>=10?e:"0"+e,n=n>=10?n:"0"+n,r+":"+e+":"+n}function bt(e,n){if(e-Be>3e3){var r=ze;Be=e,t({url:"/live/comments",method:"get",data:{liveId:liveId,start:r,count:n}},{hook:"comments"}).then(function(t){if(0===t.result){var e=t.comments;ze=Math.max(ze,e.end),wt(e.list)}})}}function wt(t){Ne.push(t)}function xt(e){e-He>5e3&&(He=e,t({url:"/live/info",method:"get",data:{liveId:liveId,uId:_e}},{hook:"info"}).then(function(t){if(0===t.result){var e=t.live,n=e.liveStatus;1===n?(Le.innerHTML=gt(e.onlineCount),qe.innerHTML=gt(e.totalCount)):n!==-1&&2!==n||(ut(n,null,Me),Xe=!0)}}).fail(function(){}))}function kt(){mt(),ct(Pe,function(){w(Ee)})}t="default"in t?t["default"]:t,e="default"in e?e["default"]:e,n="default"in n?n["default"]:n;var _t=navigator.userAgent.toLowerCase(),Tt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,St=d()?Object.assign:function(t,e){for(var n,r,o=f(t),i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)Tt.call(n,a)&&(o[a]=n[a]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(n);for(var s=0;s<r.length;s++)Et.call(n,r[s])&&(o[r[s]]=n[r[s]])}}return o},Mt={"modal-container":"_modal-container_1tihb_1",modal:"_modal_1tihb_1","modal-title":"_modal-title_1tihb_20","modal-addon":"_modal-addon_1tihb_21","modal-body":"_modal-body_1tihb_22","modal-footer":"_modal-footer_1tihb_30","modal-btn":"_modal-btn_1tihb_36","modal-close-btn":"_modal-close-btn_1tihb_47"};!function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(r){n.innerText=e}}(document,"._modal-container_1tihb_1{\n    display: none;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: rgba(10,10,10,.2);\n    z-index:10001;\n}\n._modal-container_1tihb_1 ._modal_1tihb_1{\n    position: relative;\n    width: 311px;\n    margin: 40% auto 0 auto;\n    padding: 12px 16px 12px 16px;\n    background: #FFFCF5;\n    border-radius: 2px;\n    overflow: hidden;\n}\n._modal-container_1tihb_1 ._modal_1tihb_1 ._modal-title_1tihb_20{}\n._modal-container_1tihb_1 ._modal_1tihb_1 ._modal-addon_1tihb_21{}\n._modal-container_1tihb_1 ._modal_1tihb_1 ._modal-body_1tihb_22{\n    text-align: center;\n    padding: 40px 16px 40px 16px;\n    margin: -12px -16px -12px -16px;\n    font-size: 16px;\n    line-height: 22pz;\n    color: #66625b;\n}\n._modal-container_1tihb_1 ._modal_1tihb_1 ._modal-footer_1tihb_30{\n    text-align: center;\n    padding: 0;\n    margin: 12px -16px -12px -16px;\n    border-top:1px solid rgba(102,98,91,0.1);\n}\n._modal-container_1tihb_1 ._modal_1tihb_1 ._modal-footer_1tihb_30 ._modal-btn_1tihb_36{\n    outline: 0;\n    width: 100%;\n    font-size: 17px;\n    line-height: 24px;\n    color: #FE5353;\n    background: none;\n    border: 0;\n    padding: 16px 0px;\n    font-family: PingFangSC-Regular;\n}\n._modal-container_1tihb_1 ._modal_1tihb_1 ._modal-close-btn_1tihb_47{\n    position: absolute;\n    right: 12px;\n    top: 12px;\n    line-height: 22px;\n    font-size: 22px;\n    color:rgba(102,98,91,0.5);\n}");var Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It=(function(){function t(t){this.value=t}function e(e){function n(t,e){return new Promise(function(n,o){var s={key:t,arg:e,resolve:n,reject:o,next:null};a?a=a.next=s:(i=a=s,r(t,e))})}function r(n,i){try{var a=e[n](i),s=a.value;s instanceof t?Promise.resolve(s.value).then(function(t){r("next",t)},function(t){r("throw",t)}):o(a.done?"return":"normal",a.value)}catch(l){o("throw",l)}}function o(t,e){switch(t){case"return":i.resolve({value:e,done:!0});break;case"throw":i.reject(e);break;default:i.resolve({value:e,done:!1})}i=i.next,i?r(i.key,i.arg):a=null}var i,a;this._invoke=n,"function"!=typeof e["return"]&&(this["return"]=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(e.prototype[Symbol.asyncIterator]=function(){return this}),e.prototype.next=function(t){return this._invoke("next",t)},e.prototype["throw"]=function(t){return this._invoke("throw",t)},e.prototype["return"]=function(t){return this._invoke("return",t)},{wrap:function(t){return function(){return new e(t.apply(this,arguments))}},await:function(e){return new t(e)}}}(),window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-lastTime)),r=window.setTimeout(function(){t(e+n)},n);return lastTime=e+n,r});Function.prototype.inject=function(t,e){var n=this;return n.__inject__=n.__inject__||{},"string"==typeof t&&null!=typeof e&&(n.__inject__[t]=e),"object"===("undefined"==typeof t?"undefined":Ct(t))&&(n.__inject__=St(n.__inject__,t)),n},Function.prototype.getInjected=function(t){var e=this,n=e.__inject__||{};return t?n[t]:n};var Lt="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qt=b(function(t){(function(){var e,n,r,o,i,a,s,l,u,c,f,d,p,h,m,v,g,y,b,w,x,k,_,T,E,S,M,C,I,L,q,P,A,F,O,j,N,H,z,B,R,X,Y,D,Z,U,G,V,W,$,K,J,Q,tt,et,nt,rt,ot,it=function(t,e){return function(){return t.apply(e,arguments)}};q=function(){return"visible"===document.visibilityState||null!=C.tests},j=function(){var t;return t=[],"undefined"!=typeof document&&null!==document&&document.addEventListener("visibilitychange",function(){var e,n,r,o;for(o=[],n=0,r=t.length;n<r;n++)e=t[n],o.push(e(q()));return o}),function(e){return t.push(e)}}(),T=function(t){var e,n,r;n={};for(e in t)r=t[e],n[e]=r;return n},k=function(t){var e;return e={},function(){var n,r,o,i,a;for(r="",i=0,a=arguments.length;i<a;i++)n=arguments[i],r+=n.toString()+",";return o=e[r],o||(e[r]=o=t.apply(this,arguments)),o}},O=function(t){return function(e){var n,r,o;return e instanceof Array||e instanceof NodeList||e instanceof HTMLCollection?o=function(){var o,i,a;for(a=[],r=o=0,i=e.length;0<=i?o<i:o>i;r=0<=i?++o:--o)n=Array.prototype.slice.call(arguments,1),n.splice(0,0,e[r]),a.push(t.apply(this,n));return a}.apply(this,arguments):t.apply(this,arguments)}},y=function(t,e){var n,r,o;o=[];for(n in e)r=e[n],o.push(null!=t[n]?t[n]:t[n]=r);return o},b=function(t,e){var n,r,o;if(null!=t.style)return w(t,e);o=[];for(n in e)r=e[n],o.push(t[n]=r.format());return o},w=function(t,e){var n,r,o,i,a;e=N(e),i=[],n=P(t);for(r in e)a=e[r],nt.contains(r)?i.push([r,a]):(null!=a.format&&(a=a.format()),"number"==typeof a&&(a=""+a+ot(r,a)),null!=t.hasAttribute&&t.hasAttribute(r)?t.setAttribute(r,a):null!=t.style&&(t.style[z(r)]=a),r in t&&(t[r]=a));if(i.length>0)return n?(o=new c,o.applyProperties(i),t.setAttribute("transform",o.decompose().format())):(a=i.map(function(t){return rt(t[0],t[1])}).join(" "),t.style[z("transform")]=a)},P=function(t){var e,n;return"undefined"!=typeof SVGElement&&null!==SVGElement&&"undefined"!=typeof SVGSVGElement&&null!==SVGSVGElement?t instanceof SVGElement&&!(t instanceof SVGSVGElement):null!=(e=null!=(n=C.tests)&&"function"==typeof n.isSVG?n.isSVG(t):void 0)&&e},X=function(t,e){var n;return n=Math.pow(10,e),Math.round(t*n)/n},f=function(){function t(t){var e,n,r;for(this.obj={},n=0,r=t.length;n<r;n++)e=t[n],this.obj[e]=1}return t.prototype.contains=function(t){return 1===this.obj[t]},t}(),et=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},B=new f("marginTop,marginLeft,marginBottom,marginRight,paddingTop,paddingLeft,paddingBottom,paddingRight,top,left,bottom,right,translateX,translateY,translateZ,perspectiveX,perspectiveY,perspectiveZ,width,height,maxWidth,maxHeight,minWidth,minHeight,borderRadius".split(",")),M=new f("rotate,rotateX,rotateY,rotateZ,skew,skewX,skewY,skewZ".split(",")),nt=new f("translate,translateX,translateY,translateZ,scale,scaleX,scaleY,scaleZ,rotate,rotateX,rotateY,rotateZ,rotateC,rotateCX,rotateCY,skew,skewX,skewY,skewZ,perspective".split(",")),K=new f("accent-height,ascent,azimuth,baseFrequency,baseline-shift,bias,cx,cy,d,diffuseConstant,divisor,dx,dy,elevation,filterRes,fx,fy,gradientTransform,height,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,letter-spacing,limitingConeAngle,markerHeight,markerWidth,numOctaves,order,overline-position,overline-thickness,pathLength,points,pointsAtX,pointsAtY,pointsAtZ,r,radius,rx,ry,seed,specularConstant,specularExponent,stdDeviation,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,surfaceScale,target,targetX,targetY,transform,underline-position,underline-thickness,viewBox,width,x,x1,x2,y,y1,y2,z".split(",")),ot=function(t,e){return"number"!=typeof e?"":B.contains(t)?"px":M.contains(t)?"deg":""},rt=function(t,e){var n,r;return n=(""+e).match(/^([0-9.-]*)([^0-9]*)$/),null!=n?(e=n[1],r=n[2]):e=parseFloat(e),e=X(parseFloat(e),10),null!=r&&""!==r||(r=ot(t,e)),""+t+"("+e+r+")"},N=function(t){var e,n,r,o,i,a,s,l;r={};for(o in t)if(i=t[o],nt.contains(o))if(n=o.match(/(translate|rotateC|rotate|skew|scale|perspective)(X|Y|Z|)/),n&&n[2].length>0)r[o]=i;else for(l=["X","Y","Z"],a=0,s=l.length;a<s;a++)e=l[a],r[n[1]+e]=i;else r[o]=i;return r},S=function(t){var e;return e="opacity"===t?1:0,""+e+ot(t,e)},I=function(t,e){var n,r,o,i,a,s,l,f,d,p,m;if(i={},n=P(t),null!=t.style)for(a=window.getComputedStyle(t,null),l=0,d=e.length;l<d;l++)r=e[l],nt.contains(r)?null==i.transform&&(o=n?new c(null!=(m=t.transform.baseVal.consolidate())?m.matrix:void 0):u.fromTransform(a[z("transform")]),i.transform=o.decompose()):(s=null!=t.hasAttribute&&t.hasAttribute(r)?t.getAttribute(r):r in t?t[r]:a[r],null!=s&&"d"!==r||!K.contains(r)||(s=t.getAttribute(r)),""!==s&&null!=s||(s=S(r)),i[r]=E(s));else for(f=0,p=e.length;f<p;f++)r=e[f],i[r]=E(t[r]);return h(t,i),i},h=function(t,e){var n,r;for(r in e)n=e[r],n instanceof a&&null!=t.style&&r in t.style&&(n=new l([n,ot(r,0)])),e[r]=n;return e},E=function(t){var e,n,r,i,u;for(r=[o,s,a,l],i=0,u=r.length;i<u;i++)if(n=r[i],
e=n.create(t),null!=e)return e;return null},l=function(){function t(t){this.parts=t,this.format=it(this.format,this),this.interpolate=it(this.interpolate,this)}return t.prototype.interpolate=function(e,n){var r,o,i,a,s,l;for(a=this.parts,r=e.parts,i=[],o=s=0,l=Math.min(a.length,r.length);0<=l?s<l:s>l;o=0<=l?++s:--s)null!=a[o].interpolate?i.push(a[o].interpolate(r[o],n)):i.push(a[o]);return new t(i)},t.prototype.format=function(){var t;return t=this.parts.map(function(t){return null!=t.format?t.format():t}),t.join("")},t.create=function(e){var n,r,o,s,l,u,c,f,d,p,h;for(e=""+e,o=[],c=[{re:/(#[a-f\d]{3,6})/gi,klass:i,parse:function(t){return t}},{re:/(rgba?\([0-9.]*, ?[0-9.]*, ?[0-9.]*(?:, ?[0-9.]*)?\))/gi,klass:i,parse:function(t){return t}},{re:/([-+]?[\d.]+)/gi,klass:a,parse:parseFloat}],f=0,p=c.length;f<p;f++)for(u=c[f],l=u.re;r=l.exec(e);)o.push({index:r.index,length:r[1].length,interpolable:u.klass.create(u.parse(r[1]))});for(o=o.sort(function(t,e){return t.index>e.index?1:-1}),s=[],n=0,d=0,h=o.length;d<h;d++)r=o[d],r.index<n||(r.index>n&&s.push(e.substring(n,r.index)),s.push(r.interpolable),n=r.index+r.length);return n<e.length&&s.push(e.substring(n)),new t(s)},t}(),s=function(){function t(t){this.format=it(this.format,this),this.interpolate=it(this.interpolate,this),this.obj=t}return t.prototype.interpolate=function(e,n){var r,o,i,a,s;a=this.obj,r=e.obj,i={};for(o in a)s=a[o],null!=s.interpolate?i[o]=s.interpolate(r[o],n):i[o]=s;return new t(i)},t.prototype.format=function(){return this.obj},t.create=function(e){var n,r,o;if(e instanceof Object){r={};for(n in e)o=e[n],r[n]=E(o);return new t(r)}return null},t}(),a=function(){function t(t){this.format=it(this.format,this),this.interpolate=it(this.interpolate,this),this.value=parseFloat(t)}return t.prototype.interpolate=function(e,n){var r,o;return o=this.value,r=e.value,new t((r-o)*n+o)},t.prototype.format=function(){return X(this.value,5)},t.create=function(e){return"number"==typeof e?new t(e):null},t}(),o=function(){function t(t){this.values=t,this.format=it(this.format,this),this.interpolate=it(this.interpolate,this)}return t.prototype.interpolate=function(e,n){var r,o,i,a,s,l;for(a=this.values,r=e.values,i=[],o=s=0,l=Math.min(a.length,r.length);0<=l?s<l:s>l;o=0<=l?++s:--s)null!=a[o].interpolate?i.push(a[o].interpolate(r[o],n)):i.push(a[o]);return new t(i)},t.prototype.format=function(){return this.values.map(function(t){return null!=t.format?t.format():t})},t.createFromArray=function(e){var n;return n=e.map(function(t){return E(t)||t}),n=n.filter(function(t){return null!=t}),new t(n)},t.create=function(e){return e instanceof Array?t.createFromArray(e):null},t}(),e=function(){function t(t,e){this.rgb=null!=t?t:{},this.format=e,this.toRgba=it(this.toRgba,this),this.toRgb=it(this.toRgb,this),this.toHex=it(this.toHex,this)}return t.fromHex=function(e){var n,r;return n=e.match(/^#([a-f\d]{1})([a-f\d]{1})([a-f\d]{1})$/i),null!=n&&(e="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),r=e.match(/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i),null!=r?new t({r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16),a:1},"hex"):null},t.fromRgb=function(e){var n,r;return n=e.match(/^rgba?\(([0-9.]*), ?([0-9.]*), ?([0-9.]*)(?:, ?([0-9.]*))?\)$/),null!=n?new t({r:parseFloat(n[1]),g:parseFloat(n[2]),b:parseFloat(n[3]),a:parseFloat(null!=(r=n[4])?r:1)},null!=n[4]?"rgba":"rgb"):null},t.componentToHex=function(t){var e;return e=t.toString(16),1===e.length?"0"+e:e},t.prototype.toHex=function(){return"#"+t.componentToHex(this.rgb.r)+t.componentToHex(this.rgb.g)+t.componentToHex(this.rgb.b)},t.prototype.toRgb=function(){return"rgb("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+")"},t.prototype.toRgba=function(){return"rgba("+this.rgb.r+", "+this.rgb.g+", "+this.rgb.b+", "+this.rgb.a+")"},t}(),i=function(){function t(t){this.color=t,this.format=it(this.format,this),this.interpolate=it(this.interpolate,this)}return t.prototype.interpolate=function(n,r){var o,i,a,s,l,u,c,f;for(s=this.color,o=n.color,a={},f=["r","g","b"],u=0,c=f.length;u<c;u++)i=f[u],l=Math.round((o.rgb[i]-s.rgb[i])*r+s.rgb[i]),a[i]=Math.min(255,Math.max(0,l));return i="a",l=X((o.rgb[i]-s.rgb[i])*r+s.rgb[i],5),a[i]=Math.min(1,Math.max(0,l)),new t(new e(a,o.format))},t.prototype.format=function(){return"hex"===this.color.format?this.color.toHex():"rgb"===this.color.format?this.color.toRgb():"rgba"===this.color.format?this.color.toRgba():void 0},t.create=function(n){var r;if("string"==typeof n)return r=e.fromHex(n)||e.fromRgb(n),null!=r?new t(r):null},t}(),r=function(){function t(t){this.props=t,this.applyRotateCenter=it(this.applyRotateCenter,this),this.format=it(this.format,this),this.interpolate=it(this.interpolate,this)}return t.prototype.interpolate=function(e,n){var r,o,i,a,s,l,u,c,f,d,p,h;for(i={},d=["translate","scale","rotate"],a=0,c=d.length;a<c;a++)for(o=d[a],i[o]=[],r=s=0,p=this.props[o].length;0<=p?s<p:s>p;r=0<=p?++s:--s)i[o][r]=(e.props[o][r]-this.props[o][r])*n+this.props[o][r];for(r=l=1;l<=2;r=++l)i.rotate[r]=e.props.rotate[r];for(h=["skew"],u=0,f=h.length;u<f;u++)o=h[u],i[o]=(e.props[o]-this.props[o])*n+this.props[o];return new t(i)},t.prototype.format=function(){return"translate("+this.props.translate.join(",")+") rotate("+this.props.rotate.join(",")+") skewX("+this.props.skew+") scale("+this.props.scale.join(",")+")"},t.prototype.applyRotateCenter=function(t){var e,n,r,o,i,a;for(n=x.createSVGMatrix(),n=n.translate(t[0],t[1]),n=n.rotate(this.props.rotate[0]),n=n.translate(-t[0],-t[1]),r=new c(n),o=r.decompose().props.translate,a=[],e=i=0;i<=1;e=++i)a.push(this.props.translate[e]-=o[e]);return a},t}(),x="undefined"!=typeof document&&null!==document?document.createElementNS("http://www.w3.org/2000/svg","svg"):void 0,c=function(){function t(t){this.m=t,this.applyProperties=it(this.applyProperties,this),this.decompose=it(this.decompose,this),this.m||(this.m=x.createSVGMatrix())}return t.prototype.decompose=function(){var t,e,n,o,i;return o=new d([this.m.a,this.m.b]),i=new d([this.m.c,this.m.d]),t=o.length(),n=o.dot(i),o=o.normalize(),e=i.combine(o,1,-n).length(),new r({translate:[this.m.e,this.m.f],rotate:[180*Math.atan2(this.m.b,this.m.a)/Math.PI,this.rotateCX,this.rotateCY],scale:[t,e],skew:n/e*180/Math.PI})},t.prototype.applyProperties=function(t){var e,n,r,o,i,a,s,l;for(e={},i=0,a=t.length;i<a;i++)r=t[i],e[r[0]]=r[1];for(n in e)o=e[n],"translateX"===n?this.m=this.m.translate(o,0):"translateY"===n?this.m=this.m.translate(0,o):"scaleX"===n?this.m=this.m.scaleNonUniform(o,1):"scaleY"===n?this.m=this.m.scaleNonUniform(1,o):"rotateZ"===n?this.m=this.m.rotate(o):"skewX"===n?this.m=this.m.skewX(o):"skewY"===n&&(this.m=this.m.skewY(o));return this.rotateCX=null!=(s=e.rotateCX)?s:0,this.rotateCY=null!=(l=e.rotateCY)?l:0},t}(),d=function(){function t(t){this.els=t,this.combine=it(this.combine,this),this.normalize=it(this.normalize,this),this.length=it(this.length,this),this.cross=it(this.cross,this),this.dot=it(this.dot,this),this.e=it(this.e,this)}return t.prototype.e=function(t){return t<1||t>this.els.length?null:this.els[t-1]},t.prototype.dot=function(t){var e,n,r;if(e=t.els||t,r=0,n=this.els.length,n!==e.length)return null;for(n+=1;--n;)r+=this.els[n-1]*e[n-1];return r},t.prototype.cross=function(e){var n,r;return r=e.els||e,3!==this.els.length||3!==r.length?null:(n=this.els,new t([n[1]*r[2]-n[2]*r[1],n[2]*r[0]-n[0]*r[2],n[0]*r[1]-n[1]*r[0]]))},t.prototype.length=function(){var t,e,n,r,o;for(t=0,o=this.els,n=0,r=o.length;n<r;n++)e=o[n],t+=Math.pow(e,2);return Math.sqrt(t)},t.prototype.normalize=function(){var e,n,r,o,i;r=this.length(),o=[],i=this.els;for(n in i)e=i[n],o[n]=e/r;return new t(o)},t.prototype.combine=function(e,n,r){var o,i,a,s;for(i=[],o=a=0,s=this.els.length;0<=s?a<s:a>s;o=0<=s?++a:--a)i[o]=n*this.els[o]+r*e.els[o];return new t(i)},t}(),n=function(){function t(){this.toMatrix=it(this.toMatrix,this),this.format=it(this.format,this),this.interpolate=it(this.interpolate,this)}return t.prototype.interpolate=function(e,n,r){var o,i,a,s,l,u,c,f,d,p,h,m,v,g,y,b,w,x;for(null==r&&(r=null),a=this,i=new t,w=["translate","scale","skew","perspective"],m=0,b=w.length;m<b;m++)for(c=w[m],i[c]=[],s=v=0,x=a[c].length-1;0<=x?v<=x:v>=x;s=0<=x?++v:--v)null==r||r.indexOf(c)>-1||r.indexOf(""+c+["x","y","z"][s])>-1?i[c][s]=(e[c][s]-a[c][s])*n+a[c][s]:i[c][s]=a[c][s];if(null==r||r.indexOf("rotate")!==-1){if(f=a.quaternion,d=e.quaternion,o=f[0]*d[0]+f[1]*d[1]+f[2]*d[2]+f[3]*d[3],o<0){for(s=g=0;g<=3;s=++g)f[s]=-f[s];o=-o}for(o+1>.05?1-o>=.05?(h=Math.acos(o),u=1/Math.sin(h),p=Math.sin(h*(1-n))*u,l=Math.sin(h*n)*u):(p=1-n,l=n):(d[0]=-f[1],d[1]=f[0],d[2]=-f[3],d[3]=f[2],p=Math.sin(piDouble*(.5-n)),l=Math.sin(piDouble*n)),i.quaternion=[],s=y=0;y<=3;s=++y)i.quaternion[s]=f[s]*p+d[s]*l}else i.quaternion=a.quaternion;return i},t.prototype.format=function(){return this.toMatrix().toString()},t.prototype.toMatrix=function(){var t,e,n,r,o,i,a,s,l,c,f,d,p,h,m,v;for(t=this,o=u.I(4),e=p=0;p<=3;e=++p)o.els[e][3]=t.perspective[e];for(i=t.quaternion,c=i[0],f=i[1],d=i[2],l=i[3],a=t.skew,r=[[1,0],[2,0],[2,1]],e=h=2;h>=0;e=--h)a[e]&&(s=u.I(4),s.els[r[e][0]][r[e][1]]=a[e],o=o.multiply(s));for(o=o.multiply(new u([[1-2*(f*f+d*d),2*(c*f-d*l),2*(c*d+f*l),0],[2*(c*f+d*l),1-2*(c*c+d*d),2*(f*d-c*l),0],[2*(c*d-f*l),2*(f*d+c*l),1-2*(c*c+f*f),0],[0,0,0,1]])),e=m=0;m<=2;e=++m){for(n=v=0;v<=2;n=++v)o.els[e][n]*=t.scale[e];o.els[3][e]=t.translate[e]}return o},t}(),u=function(){function t(t){this.els=t,this.toString=it(this.toString,this),this.decompose=it(this.decompose,this),this.inverse=it(this.inverse,this),this.augment=it(this.augment,this),this.toRightTriangular=it(this.toRightTriangular,this),this.transpose=it(this.transpose,this),this.multiply=it(this.multiply,this),this.dup=it(this.dup,this),this.e=it(this.e,this)}return t.prototype.e=function(t,e){return t<1||t>this.els.length||e<1||e>this.els[0].length?null:this.els[t-1][e-1]},t.prototype.dup=function(){return new t(this.els)},t.prototype.multiply=function(e){var n,r,o,i,a,s,l,u,c,f,d,p,h;for(p=!!e.modulus,n=e.els||e,"undefined"==typeof n[0][0]&&(n=new t(n).els),f=this.els.length,l=f,u=n[0].length,o=this.els[0].length,i=[],f+=1;--f;)for(a=l-f,i[a]=[],d=u,d+=1;--d;){for(s=u-d,h=0,c=o,c+=1;--c;)r=o-c,h+=this.els[a][r]*n[r][s];i[a][s]=h}return n=new t(i),p?n.col(1):n},t.prototype.transpose=function(){var e,n,r,o,i,a,s;for(s=this.els.length,e=this.els[0].length,n=[],i=e,i+=1;--i;)for(r=e-i,n[r]=[],a=s,a+=1;--a;)o=s-a,n[r][o]=this.els[o][r];return new t(n)},t.prototype.toRightTriangular=function(){var t,e,n,r,o,i,a,s,l,u,c,f,d,p;for(t=this.dup(),s=this.els.length,o=s,i=this.els[0].length;--s;){if(n=o-s,0===t.els[n][n])for(r=c=d=n+1;d<=o?c<o:c>o;r=d<=o?++c:--c)if(0!==t.els[r][n]){for(e=[],l=i,l+=1;--l;)u=i-l,e.push(t.els[n][u]+t.els[r][u]);t.els[n]=e;break}if(0!==t.els[n][n])for(r=f=p=n+1;p<=o?f<o:f>o;r=p<=o?++f:--f){for(a=t.els[r][n]/t.els[n][n],e=[],l=i,l+=1;--l;)u=i-l,e.push(u<=n?0:t.els[r][u]-t.els[n][u]*a);t.els[r]=e}}return t},t.prototype.augment=function(e){var n,r,o,i,a,s,l,u,c;if(n=e.els||e,"undefined"==typeof n[0][0]&&(n=new t(n).els),r=this.dup(),o=r.els[0].length,u=r.els.length,s=u,l=n[0].length,u!==n.length)return null;for(u+=1;--u;)for(i=s-u,c=l,c+=1;--c;)a=l-c,r.els[i][o+a]=n[i][a];return r},t.prototype.inverse=function(){var e,n,r,o,i,a,s,l,u,c,f,d,p;for(c=this.els.length,s=c,e=this.augment(t.I(c)).toRightTriangular(),l=e.els[0].length,i=[],c+=1;--c;){for(o=c-1,r=[],f=l,i[o]=[],n=e.els[o][o],f+=1;--f;)d=l-f,u=e.els[o][d]/n,r.push(u),d>=s&&i[o].push(u);for(e.els[o]=r,a=p=0;0<=o?p<o:p>o;a=0<=o?++p:--p){for(r=[],f=l,f+=1;--f;)d=l-f,r.push(e.els[a][d]-e.els[o][d]*e.els[a][o]);e.els[a]=r}}return new t(i)},t.I=function(e){var n,r,o,i,a;for(n=[],i=e,e+=1;--e;)for(r=i-e,n[r]=[],a=i,a+=1;--a;)o=i-a,n[r][o]=r===o?1:0;return new t(n)},t.prototype.decompose=function(){var t,e,r,o,i,a,s,l,u,c,f,p,h,m,v,g,y,b,w,x,k,_,T,E,S,M,C,I,L,q,P,A,F,O,j,N,H,z;for(a=this,x=[],y=[],b=[],c=[],l=[],t=[],e=L=0;L<=3;e=++L)for(t[e]=[],o=q=0;q<=3;o=++q)t[e][o]=a.els[e][o];if(0===t[3][3])return!1;for(e=P=0;P<=3;e=++P)for(o=A=0;A<=3;o=++A)t[e][o]/=t[3][3];for(u=a.dup(),e=F=0;F<=2;e=++F)u.els[e][3]=0;if(u.els[3][3]=1,0!==t[0][3]||0!==t[1][3]||0!==t[2][3]){for(p=new d(t.slice(0,4)[3]),r=u.inverse(),k=r.transpose(),l=k.multiply(p).els,e=O=0;O<=2;e=++O)t[e][3]=0;t[3][3]=1}else l=[0,0,0,1];for(e=j=0;j<=2;e=++j)x[e]=t[3][e],t[3][e]=0;for(m=[],e=N=0;N<=2;e=++N)m[e]=new d(t[e].slice(0,3));if(y[0]=m[0].length(),m[0]=m[0].normalize(),b[0]=m[0].dot(m[1]),m[1]=m[1].combine(m[0],1,-b[0]),y[1]=m[1].length(),m[1]=m[1].normalize(),b[0]/=y[1],b[1]=m[0].dot(m[2]),m[2]=m[2].combine(m[0],1,-b[1]),b[2]=m[1].dot(m[2]),m[2]=m[2].combine(m[1],1,-b[2]),y[2]=m[2].length(),m[2]=m[2].normalize(),b[1]/=y[2],b[2]/=y[2],s=m[1].cross(m[2]),m[0].dot(s)<0)for(e=H=0;H<=2;e=++H)for(y[e]*=-1,o=z=0;z<=2;o=++z)m[e].els[o]*=-1;v=function(t,e){return m[t].els[e]},h=[],h[1]=Math.asin(-v(0,2)),0!==Math.cos(h[1])?(h[0]=Math.atan2(v(1,2),v(2,2)),h[2]=Math.atan2(v(0,1),v(0,0))):(h[0]=Math.atan2(-v(2,0),v(1,1)),h[1]=0),w=v(0,0)+v(1,1)+v(2,2)+1,w>1e-4?(g=.5/Math.sqrt(w),S=.25/g,M=(v(2,1)-v(1,2))*g,C=(v(0,2)-v(2,0))*g,I=(v(1,0)-v(0,1))*g):v(0,0)>v(1,1)&&v(0,0)>v(2,2)?(g=2*Math.sqrt(1+v(0,0)-v(1,1)-v(2,2)),M=.25*g,C=(v(0,1)+v(1,0))/g,I=(v(0,2)+v(2,0))/g,S=(v(2,1)-v(1,2))/g):v(1,1)>v(2,2)?(g=2*Math.sqrt(1+v(1,1)-v(0,0)-v(2,2)),M=(v(0,1)+v(1,0))/g,C=.25*g,I=(v(1,2)+v(2,1))/g,S=(v(0,2)-v(2,0))/g):(g=2*Math.sqrt(1+v(2,2)-v(0,0)-v(1,1)),M=(v(0,2)+v(2,0))/g,C=(v(1,2)+v(2,1))/g,I=.25*g,S=(v(1,0)-v(0,1))/g),c=[M,C,I,S],f=new n,f.translate=x,f.scale=y,f.skew=b,f.quaternion=c,f.perspective=l,f.rotate=h;for(T in f){_=f[T];for(i in _)E=_[i],isNaN(E)&&(_[i]=0)}return f},t.prototype.toString=function(){var t,e,n,r,o;for(n="matrix3d(",t=r=0;r<=3;t=++r)for(e=o=0;o<=3;e=++o)n+=X(this.els[t][e],10),3===t&&3===e||(n+=",");return n+=")"},t.matrixForTransform=k(function(t){var e,n,r,o,i,a;return e=document.createElement("div"),e.style.position="absolute",e.style.visibility="hidden",e.style[z("transform")]=t,document.body.appendChild(e),r=window.getComputedStyle(e,null),n=null!=(o=null!=(i=r.transform)?i:r[z("transform")])?o:null!=(a=C.tests)?a.matrixForTransform(t):void 0,document.body.removeChild(e),n}),t.fromTransform=function(e){var n,r,o,i,a,s;for(i=null!=e?e.match(/matrix3?d?\(([-0-9,e \.]*)\)/):void 0,i?(n=i[1].split(","),n=n.map(parseFloat),r=6===n.length?[n[0],n[1],0,0,n[2],n[3],0,0,0,0,1,0,n[4],n[5],0,1]:n):r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],a=[],o=s=0;s<=3;o=++s)a.push(r.slice(4*o,4*o+4));return new t(a)},t}(),H=k(function(t){var e,n,r,o,i,a,s,l,u,c;if(void 0!==document.body.style[t])return"";for(o=t.split("-"),i="",a=0,l=o.length;a<l;a++)r=o[a],i+=r.substring(0,1).toUpperCase()+r.substring(1);for(c=["Webkit","Moz","ms"],s=0,u=c.length;s<u;s++)if(n=c[s],e=n+i,void 0!==document.body.style[e])return n;return""}),z=k(function(t){var e;return e=H(t),"Moz"===e?""+e+(t.substring(0,1).toUpperCase()+t.substring(1)):""!==e?"-"+e.toLowerCase()+"-"+et(t):et(t)}),R="undefined"!=typeof window&&null!==window?window.requestAnimationFrame:void 0,v=[],g=[],G=!1,V=1,"undefined"!=typeof window&&null!==window&&window.addEventListener("keyup",function(t){if(68===t.keyCode&&t.shiftKey&&t.ctrlKey)return C.toggleSlow()}),null==R&&(A=0,R=function(t){var e,n,r;return e=Date.now(),r=Math.max(0,16-(e-A)),n=window.setTimeout(function(){return t(e+r)},r),A=e+r,n}),D=!1,Y=!1,$=function(){if(!D)return D=!0,R(Z)},Z=function(t){var e,n,r,o;if(Y)return void R(Z);for(n=[],r=0,o=v.length;r<o;r++)e=v[r],m(t,e)||n.push(e);return v=v.filter(function(t){return n.indexOf(t)===-1}),0===v.length?D=!1:R(Z)},m=function(t,e){var n,r,o,i,a,s,l,u;if(null==e.tStart&&(e.tStart=t),i=(t-e.tStart)/e.options.duration,a=e.curve(i),r={},i>=1)r=e.curve.returnsToSelf?e.properties.start:e.properties.end;else{u=e.properties.start;for(n in u)o=u[n],r[n]=L(o,e.properties.end[n],a)}return b(e.el,r),"function"==typeof(s=e.options).change&&s.change(e.el,Math.min(1,i)),i>=1&&"function"==typeof(l=e.options).complete&&l.complete(e.el),i<1},L=function(t,e,n){return null!=t&&null!=t.interpolate?t.interpolate(e,n):null},W=function(t,e,n,r){var o,i,a,s,l,f,d;if(null!=r&&(g=g.filter(function(t){return t.id!==r})),C.stop(t,{timeout:!1}),!n.animated)return C.css(t,e),void("function"==typeof n.complete&&n.complete(this));l=I(t,Object.keys(e)),e=N(e),o={},f=[];for(a in e)d=e[a],null!=t.style&&nt.contains(a)?f.push([a,d]):o[a]=E(d);return f.length>0&&(i=P(t),i?(s=new c,s.applyProperties(f)):(d=f.map(function(t){return rt(t[0],t[1])}).join(" "),s=u.fromTransform(u.matrixForTransform(d))),o.transform=s.decompose(),i&&l.transform.applyRotateCenter([o.transform.props.rotate[1],o.transform.props.rotate[2]])),h(t,o),v.push({el:t,properties:{start:l,end:o},options:n,curve:n.type.call(n.type,n)}),$()},tt=[],Q=0,U=function(t){if(q())return R(function(){if(tt.indexOf(t)!==-1)return t.realTimeoutId=setTimeout(function(){return t.fn(),_(t.id)},t.delay)})},p=function(t,e){var n;return Q+=1,n={id:Q,tStart:Date.now(),fn:t,delay:e,originalDelay:e},U(n),tt.push(n),Q},_=function(t){return tt=tt.filter(function(e){return e.id===t&&e.realTimeoutId&&clearTimeout(e.realTimeoutId),e.id!==t})},F=function(t,e){var n;return null!=t?(n=t-e.tStart,e.originalDelay-n):e.originalDelay},"undefined"!=typeof window&&null!==window&&window.addEventListener("unload",function(){}),J=null,j(function(t){var e,n,r,o,i,a,s,l,u,c;if(Y=!t,t){if(D)for(n=Date.now()-J,i=0,l=v.length;i<l;i++)e=v[i],null!=e.tStart&&(e.tStart+=n);for(a=0,u=tt.length;a<u;a++)r=tt[a],r.delay=F(J,r),U(r);return J=null}for(J=Date.now(),c=[],o=0,s=tt.length;o<s;o++)r=tt[o],c.push(clearTimeout(r.realTimeoutId));return c}),C={},C.linear=function(){return function(t){return t}},C.spring=function(t){var e,n,r,o,i,a;return null==t&&(t={}),y(t,C.spring.defaults),o=Math.max(1,t.frequency/20),i=Math.pow(20,t.friction/100),a=t.anticipationSize/1e3,r=Math.max(0,a),e=function(e){var n,r,o,i,s;return n=.8,i=a/(1-a),s=0,o=(i-n*s)/(i-s),r=(n-o)/i,r*e*t.anticipationStrength/100+o},n=function(t){return Math.pow(i/10,-t)*(1-t)},function(t){var r,i,s,l,u,c,f,d;return c=t/(1-a)-a/(1-a),t<a?(d=a/(1-a)-a/(1-a),f=0/(1-a)-a/(1-a),u=Math.acos(1/e(d)),s=(Math.acos(1/e(f))-u)/(o*-a),r=e):(r=n,u=0,s=1),i=r(c),l=o*(t-a)*s+u,1-i*Math.cos(l)}},C.bounce=function(t){var e,n,r,o;return null==t&&(t={}),y(t,C.bounce.defaults),r=Math.max(1,t.frequency/20),o=Math.pow(20,t.friction/100),e=function(t){return Math.pow(o/10,-t)*(1-t)},n=function(t){var n,o,i,a;return a=-1.57,o=1,n=e(t),i=r*t*o+a,n*Math.cos(i)},n.returnsToSelf=!0,n},C.gravity=function(t){var e,n,r,o,i,a,s;return null==t&&(t={}),y(t,C.gravity.defaults),n=Math.min(t.bounciness/1250,.8),o=t.elasticity/1e3,s=100,r=[],e=function(){var r,o;for(r=Math.sqrt(2/s),o={a:-r,b:r,H:1},t.returnsToSelf&&(o.a=0,o.b=2*o.b);o.H>.001;)e=o.b-o.a,o={a:o.b,b:o.b+e*n,H:o.H*n*n};return o.b}(),a=function(n,r,o,i){var a,s;return e=r-n,s=2/e*i-1-2*n/e,a=s*s*o-o+1,t.returnsToSelf&&(a=1-a),a},function(){var i,a,l,u;for(a=Math.sqrt(2/(s*e*e)),l={a:-a,b:a,H:1},t.returnsToSelf&&(l.a=0,l.b=2*l.b),r.push(l),i=e,u=[];l.b<1&&l.H>.001;)i=l.b-l.a,l={a:l.b,b:l.b+i*n,H:l.H*o},u.push(r.push(l));return u}(),i=function(e){var n,o,i;for(o=0,n=r[o];!(e>=n.a&&e<=n.b)&&(o+=1,n=r[o]););return i=n?a(n.a,n.b,n.H,e):t.returnsToSelf?0:1},i.returnsToSelf=t.returnsToSelf,i},C.forceWithGravity=function(t){return null==t&&(t={}),y(t,C.forceWithGravity.defaults),t.returnsToSelf=!0,C.gravity(t)},C.bezier=function(){var t,e,n;return e=function(t,e,n,r,o){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*o},t=function(t,n,r,o,i){return{x:e(t,n.x,r.x,o.x,i.x),y:e(t,n.y,r.y,o.y,i.y)}},n=function(t,e,n){var r,o,i,a,s,l,u,c,f,d;for(r=null,f=0,d=e.length;f<d&&(o=e[f],t>=o(0).x&&t<=o(1).x&&(r=o),null===r);f++);if(!r)return n?0:1;for(c=1e-4,a=0,l=1,s=(l+a)/2,u=r(s).x,i=0;Math.abs(t-u)>c&&i<100;)t>u?a=s:l=s,s=(l+a)/2,u=r(s).x,i+=1;return r(s).y},function(e){var r,o,i;return null==e&&(e={}),i=e.points,r=function(){var e,n,o;r=[],o=function(e,n){var o;return o=function(r){return t(r,e,e.cp[e.cp.length-1],n.cp[0],n)},r.push(o)};for(e in i){if(n=parseInt(e),n>=i.length-1)break;o(i[n],i[n+1])}return r}(),o=function(t){return 0===t?0:1===t?1:n(t,r,this.returnsToSelf)},o.returnsToSelf=0===i[i.length-1].y,o}}(),C.easeInOut=function(t){var e,n;return null==t&&(t={}),e=null!=(n=t.friction)?n:C.easeInOut.defaults.friction,C.bezier({points:[{x:0,y:0,cp:[{x:.92-e/1e3,y:0}]},{x:1,y:1,cp:[{x:.08+e/1e3,y:1}]}]})},C.easeIn=function(t){var e,n;return null==t&&(t={}),e=null!=(n=t.friction)?n:C.easeIn.defaults.friction,C.bezier({points:[{x:0,y:0,cp:[{x:.92-e/1e3,y:0}]},{x:1,y:1,cp:[{x:1,y:1}]}]})},C.easeOut=function(t){var e,n;return null==t&&(t={}),e=null!=(n=t.friction)?n:C.easeOut.defaults.friction,C.bezier({points:[{x:0,y:0,cp:[{x:0,y:0}]},{x:1,y:1,cp:[{x:.08+e/1e3,y:1}]}]})},C.spring.defaults={frequency:300,friction:200,anticipationSize:0,anticipationStrength:0},C.bounce.defaults={frequency:300,friction:200},C.forceWithGravity.defaults=C.gravity.defaults={bounciness:400,elasticity:200},C.easeInOut.defaults=C.easeIn.defaults=C.easeOut.defaults={friction:500},C.css=O(function(t,e){return w(t,e,!0)}),C.animate=O(function(t,e,n){var r;return null==n&&(n={}),n=T(n),y(n,{type:C.easeInOut,duration:1e3,delay:0,animated:!0}),n.duration=Math.max(0,n.duration*V),n.delay=Math.max(0,n.delay),0===n.delay?W(t,e,n):(r=C.setTimeout(function(){return W(t,e,n,r)},n.delay),g.push({id:r,el:t}))}),C.stop=O(function(t,e){return null==e&&(e={}),null==e.timeout&&(e.timeout=!0),e.timeout&&(g=g.filter(function(n){return n.el!==t||null!=e.filter&&!e.filter(n)||(C.clearTimeout(n.id),!1)})),v=v.filter(function(e){return e.el!==t})}),C.setTimeout=function(t,e){return p(t,e*V)},C.clearTimeout=function(t){return _(t)},C.toggleSlow=function(){return G=!G,V=G?3:1,"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log("dynamics.js: slow animations "+(G?"enabled":"disabled")):void 0},"object"==typeof t&&"object"==typeof t.exports?t.exports=C:"function"==typeof define?define("dynamics",function(){return C}):window.dynamics=C}).call(Lt)}),Pt=b(function(t,e){!function(n){var r=!1;if("function"==typeof define&&define.amd&&(define(n),r=!0),"object"==typeof e&&(t.exports=n(),r=!0),!r){var o=window.Cookies,i=window.Cookies=n();i.noConflict=function(){return window.Cookies=o,i}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}function e(n){function r(e,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=t({path:"/"},r.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(l){}return o=n.write?n.write(o,e):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}e||(a={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,f=0;f<u.length;f++){var d=u[f].split("="),p=d.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var h=d[0].replace(c,decodeURIComponent);if(p=n.read?n.read(p,h):n(p,h)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(l){}if(e===h){a=p;break}e||(a[h]=p)}catch(l){}}return a}}return r.set=r,r.get=function(t){return r.call(r,t)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(e,n){r(e,"",t(n,{expires:-1}))},r.withConverter=e,r}return e(function(){})})}),At=e.utils.mapcall,Ft=e.isType,Ot=e.extend({defaultOptions:{init:function(){this.data=[]}.$on("init")},push:function(t){var e=this;At(t,function(t){e.data.push(t)}),Ft.isArray(t)?this.trigger("push",t,this.data):this.trigger("push",[t],this.data)},shift:function(t){var e=this.data.splice(0,t||1);this.trigger("shift",e,this.data)},length:function(){return this.data.length}});if(Array.isArray||(Array.isArray=function(t){return""+t!==t&&"[object Array]"=={}.toString.call(t)}),!Element.prototype.addEventListener){var jt;!function(){var t=function(t){t||(t=window.event);for(var e=0,n=0,r=jt[t.type];n<r.aEls.length;n++)if(r.aEls[n]===this){for(e;e<r.aEvts[n].length;e++)r.aEvts[n][e].call(this,t);break}};jt={},Element.prototype.addEventListener=function(e,n){if(jt.hasOwnProperty(e)){for(var r=jt[e],o=-1,i=0;i<r.aEls.length;i++)if(r.aEls[i]===this){o=i;break}if(o===-1)r.aEls.push(this),r.aEvts.push([n]),this["on"+e]=t;else{var a=r.aEvts[o];this["on"+e]!==t&&(a.splice(0),this["on"+e]=t);for(var s=0;s<a.length;s++)if(a[s]===n)return;a.push(n)}}else jt[e]={aEls:[this],aEvts:[[n]]},this["on"+e]=t},Element.prototype.removeEventListener=function(t,e){if(jt.hasOwnProperty(t)){for(var n=jt[t],r=-1,o=0;o<n.aEls.length;o++)if(n.aEls[o]===this){r=o;break}if(r!==-1)for(var i=0,a=n.aEvts[r];i<a.length;i++)a[i]===e&&a.splice(i,1)}}}()}for(var Nt=function(t,e,n,r,o){var i=void 0===e?void 0:e.key;return{sel:t,data:e,children:n,text:r,elm:o,key:i}},Ht={array:Array.isArray,primitive:function(t){return"string"==typeof t||"number"==typeof t}},zt={createElement:C,createElementNS:I,createTextNode:L,appendChild:A,removeChild:P,insertBefore:q,parentNode:F,nextSibling:O,tagName:j,setTextContent:N},Bt=Nt,Rt=Ht,Xt=zt,Yt=Bt("",{},[],void 0,void 0),Dt=["create","update","remove","destroy","pre","post"],Zt={init:X},Ut={create:Y,update:Y},Gt={create:D,update:D},Vt="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,Wt=function(t){Vt(function(){Vt(t)})},$t={create:U,update:U,destroy:G,remove:V},Kt={create:J,update:J,destroy:J},Jt=Nt,Qt=Ht,te=function(t,e,n){var r,o,i,a={};if(void 0!==n?(a=e,Qt.array(n)?r=n:Qt.primitive(n)&&(o=n)):void 0!==e&&(Qt.array(e)?r=e:Qt.primitive(e)?o=e:a=e),Qt.array(r))for(i=0;i<r.length;++i)Qt.primitive(r[i])&&(r[i]=Jt(void 0,void 0,void 0,r[i]));return"s"===t[0]&&"v"===t[1]&&"g"===t[2]&&Q(a,r,t),Jt(t,a,r,o,void 0)},ee=Zt.init([Ut,Gt,$t,Kt]),ne=function(t){return'<svg class="heart" width="44px" height="40px" viewBox="-1 -1 43 39">\n        <g stroke="'+t.stroke+'" stroke-width="2" transform="translate(-103.000000, -53.000000)" fill="'+t.fill+'">\n            <path d="M123 89L120.1 86.4C117.5 84.1 115.2 82 113.1 80.1 111 78.1 109.2 76.2 107.7 74.4 106.2 72.7 105.1 70.9 104.2 69.2 103.4 67.4 103 65.6 103 63.8 103 62.3 103.3 60.9 103.9 59.6 104.4 58.2 105.2 57.1 106.2 56.1 107.2 55.1 108.4 54.4 109.7 53.8 111 53.3 112.5 53 114 53 115.8 53 117.4 53.4 119 54.1 120.6 54.8 121.9 55.8 123 57.1 124.1 55.8 125.4 54.8 127 54.1 128.6 53.4 130.2 53 132 53 133.5 53 135 53.3 136.3 53.8 137.6 54.4 138.8 55.1 139.8 56.1 140.8 57.1 141.6 58.2 142.1 59.6 142.7 60.9 143 62.3 143 63.8 143 65.6 142.6 67.4 141.8 69.2 140.9 70.9 139.8 72.7 138.3 74.4 136.8 76.2 135 78.1 132.9 80.1 130.8 82 128.5 84.1 125.9 86.4L123 89Z"/>\n        </g>\n    </svg>'},re=[{fill:"#79D1F8",stroke:"none"},{fill:"#FADC70",stroke:"none"},{fill:"#FAB370",stroke:"none"},{fill:"#F98AA3",stroke:"none"},{fill:"#F87996",stroke:"none"},{fill:"#F879DB",stroke:"none"},{fill:"#FB4594",stroke:"none"},{fill:"#FB5C5C",stroke:"none"},{fill:"#FF8F5E",stroke:"none"},{fill:"none",stroke:"#E8543A"},{fill:"none",stroke:"#F44FE9"},{fill:"#F66D6D",stroke:"none"},{fill:"#EA4646",stroke:"none"},{fill:"#F15876",stroke:"none"},{fill:"#FB8AD2",stroke:"none"}],oe=[],ie=0;ie<re.length;ie++){var ae=v(ne(re[ie]));oe.push(ae)}var se=70,le=100,ue=document.createElement("div");document.body.appendChild(ue),ue.className="lizhi-king";var ce=document.getElementById("live-status-text"),fe=document.getElementById("liveTime"),de=void 0,pe=!1;!function(){for(var t=0,e=["ms","moz","webkit","o"],n=0;n<e.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[e[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[n]+"CancelAnimationFrame"]||window[e[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),o=Math.max(0,16-(r-t)),i=window.setTimeout(function(){e(r+o)},o);return t=r+o,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}();var he=!1;s()?c()&&l()>=10&&(he=!0):u()?he=!1:i()&&(o()||a()>=7.1)&&(he=!0);var me=void 0,ve=(document.querySelector(".living-wrap"),document.getElementById("input-wrap")),ge=document.getElementById("input"),ye=document.getElementById("input-sender"),be=document.getElementById("gift-sender");ge.addEventListener("keyup",function(t){var e=t.which||t.keyCode;13===e&&E(liveId,ge.value,function(){ge.value="",ye.className=ye.className.replace(" living-wrap-input-send-highlight",""),kt()})}),s()&&ve.addEventListener("touchmove",function(t){t.preventDefault()}),ge.addEventListener("focus",function(t){ye.className=ye.className.replace(" living-wrap-input-send-highlight","")+" living-wrap-input-send-highlight"}),ge.addEventListener("blur",function(t){""===ge.value&&(ye.className=ye.className.replace(" living-wrap-input-send-highlight",""),kt())}),ye.addEventListener("click",function(){E(liveId,ge.value,function(){ge.value="",ye.className=ye.className.replace(" living-wrap-input-send-highlight",""),kt()})},!1);var we=document.createElement("div");document.body.appendChild(we);var xe=st(we);!function(){var t=void 0;be.addEventListener("click",function(){M(function(e){0===e.rcode&&(t=e.data,t.name=userName,xe(t,{display:"block"}))})},!1)}();var ke=document.createElement("div");document.body.appendChild(ke);var _e,Te=tt(ke);_e=Pt.get("gen_uid"),_e||(_e="h5_"+ft(16),Pt.set("gen_uid",_e,{expires:365,path:"/"}));var Ee=(g({id:"not-support-modal",class:"modal",data:{body:"格式不支持,请下载荔枝FM"},force:!0,actions:[function(){window.open("http://m.lizhi.fm/get_app/")}.inject({name:"我知道了"})]}),document.getElementById("to-bottom"));Ee.addEventListener("click",kt,!1);var Se=document.querySelector(".live-status-already"),Me=dt(liveUrl),Ce=!1;Se.addEventListener("click",function(){Me.play(),Se.style.display="none",Ce=!0,document.querySelector(".live-status-ok").style.display="block"},!1);var Ie=document.getElementById("liveTime"),Le=document.getElementById("online"),qe=document.getElementById("total"),Pe=((new Date).getTime(),document.getElementById("liveComment")),Ae=e.utils.domOpt.create,Fe=function(t,e){return t.appendChild(Ae(e))},Oe=!1;Pe.addEventListener("touchstart",function(t){ht()},!1),Pe.addEventListener("touchend",function(t){clearTimeout(je),je=setTimeout(function(){Pe.scrollHeight-Pe.scrollTop-Pe.offsetHeight<Pe.offsetHeight?(mt(),"block"===Ee.style.display&&w(Ee)):(ht(),"none"===Ee.style.display&&x(Ee))},300)},!1);var je;Pe.addEventListener("scroll",function(t){clearTimeout(je),je=setTimeout(function(){Pe.scrollHeight-Pe.scrollTop-Pe.offsetHeight<Pe.offsetHeight?(mt(),"block"===Ee.style.display&&w(Ee)):(ht(),"none"===Ee.style.display&&x(Ee))},300)},!1);var Ne=new Ot({onInit:function(){this.buf=[],this.busying=!1}.$on("init"),onMount:function(){this.getElement().style.overflow="auto"}.$on("mount"),onPush:function(t,e){if(0!==t.length||0!==this.buf.length){var r=this;if(this.busying||Oe)for(;0!==t.length;)r.buf.push(t.pop());else{this.busying=!0;for(var o=[];0!==t.length;)o.push(t.pop());this.buf.length>0&&(o=this.buf.concat(o),this.buf=[]);var i,a=this.getElement(),s=a.children;i=s.length>0?s[s.length-1]:Fe(a,"<div></div>");for(var l=o.length,u=0;u<l;u++){i.children.length>=10&&(i=Fe(a,"<div></div>"));var c=o.shift(),f=Ae("<div>"+y(c)+"</div>");i.appendChild(f),function(t){f.querySelector("img").addEventListener("touchstart",function(e){e.preventDefault(),clearTimeout(me),me=setTimeout(function(){ge.value+="@"+t.userName,me=null},1e3)},!1),f.querySelector("img").addEventListener("touchend",function(e){null!==me&&(clearTimeout(me),Te({userPortraitList:[t.portrait],
name:t.userName,gender:1,country:"",province:"",city:"",signature:"",loading:!0},{display:"block"}),k(t.userId,function(t){if(0===t.rcode){Te(t.ret,{display:"block"})}else Te(null,{display:"none"}),new n({content:"数据出错"})}))},!1)}(c)}ct(a,function(){var t=r.length(),e=500;if(t>e)for(var n=0;n<Math.floor((t-e)/10);n++)r.shift(10);r.busying=!1,vt()})}}}.$on("push"),onShift:function(t,e){var n=this.getElement();n.querySelector("div").remove()}.$on("shift")}).mount(Pe),He=0,ze=liveStartTime,Be=0,Re=(new Date).getTime();bt(Re,30);var Xe=(setInterval(function(){var t=(new Date).getTime();Xe||(Ie.innerHTML=yt(t-liveStartTime),xt(t)),bt(t,20)},1e3),!1),Ye=document.getElementById("rss-btn");lt(Ye,radioId);var De=document.getElementById("navbar-img");De.addEventListener("touchstart",function(t){t.preventDefault(),clearTimeout(me),me=setTimeout(function(){ge.value+="@"+userName,me=null},1e3)},!1),De.addEventListener("touchend",function(t){null!==me&&(clearTimeout(me),Te({userPortraitList:[userPortrait],name:userName,gender:1,country:"",province:"",city:"",signature:"",loading:!0},{display:"block"}),k(userId,function(t){if(0===t.rcode){Te(t.ret,{display:"block"})}else Te(null,{display:"none"}),new n({content:"数据出错"})}))},!1)});
